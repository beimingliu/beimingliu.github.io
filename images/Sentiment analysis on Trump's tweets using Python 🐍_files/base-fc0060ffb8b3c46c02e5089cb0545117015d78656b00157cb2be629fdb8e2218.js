function initEditorResize(){function e(){return window.pageXOffset||(document.documentElement||document.body.parentNode||document.body).scrollLeft}function t(){return window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop}function n(){c.style.height="auto",c.style.height=c.scrollHeight-24+"px",r(c.scrollHeight-24),window.scrollTo(a,s)}function r(e){function t(e){return document.getElementsByClassName(e)}t("highlightTextarea-container")[0]&&t("highlightTextarea")[0]&&(t("highlightTextarea-container")[0].style.height=e-4+"px",t("highlightTextarea-highlighter")[0].style.height=e+"px",t("highlightTextarea")[0].style.height=e+132+"px")}function o(){a=e(),s=t(),window.setTimeout(n,0)}var i,a,s,c=document.getElementById("article_body_markdown");c&&(i=window.attachEvent?function(e,t,n){e.attachEvent("on"+t,n)}:function(e,t,n){e.addEventListener(t,n,!1)},i(c,"cut",o),i(c,"paste",o),i(c,"drop",o),i(c,"keydown",o),c.focus(),n())}function initLeaveEditorWarning(){var e=document.getElementById("article_body_markdown"),t=document.getElementById("article_markdown_form"),n=!1;e&&t&&("/articles"==window.location.pathname?window.editorIsDirty=!0:window.editorIsDirty=window.editorIsDirty||!1,e.oninput=function(){window.editorIsDirty=!0},t.onsubmit=function(){n=!0}),window.onbeforeunload=function(){var e=window.location.href.includes("/new")||window.location.href.includes("/edit")||"/articles"==window.location.pathname;if(window.editorIsDirty&&e&&!n)return"Changes you've made will be lost."}}function initNotifications(){fetchNotificationsCount(),markNotificationsAsRead(),initReactions(),listenForNotificationsBellClick()}function markNotificationsAsRead(){setTimeout(function(){if(document.getElementById("notifications-container")){var e;e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),e.onreadystatechange=function(){};var t=document.querySelector("meta[name='csrf-token']").content;e.open("Post","/notifications/reads",!0),e.setRequestHeader("X-CSRF-Token",t),e.send()}},120)}function fetchNotificationsCount(){if(null==document.getElementById("notifications-container")&&checkUserLoggedIn()){var e;e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),e.onreadystatechange=function(){if(e.readyState==XMLHttpRequest.DONE){var t=e.response;isNaN(t)?document.getElementById("notifications-number").classList.remove("showing"):"0"!=t&&t!=undefined&&""!=t?(document.getElementById("notifications-number").innerHTML=e.response,document.getElementById("notifications-number").classList.add("showing"),instantClick&&(InstantClick.removeExpiredKeys("force"),setTimeout(function(){InstantClick.preload(document.getElementById("notifications-link").href,"force")},30))):document.getElementById("notifications-number").classList.remove("showing")}};Date.now().toString();e.open("Get","/notifications/counts",!0),e.send()}else null==document.getElementById("notifications-container")&&(document.getElementById("notifications-number").innerHTML="1",document.getElementById("notifications-number").classList.add("showing"))}function initReactions(){setTimeout(function(){if(document.getElementById("notifications-container")){for(var e=document.getElementsByClassName("reaction-button"),t=0;t<e.length;t++){var n=e[t];n.onclick=function(e){function t(e){"create"===e.result?n.classList.add("reacted"):n.classList.remove("reacted")}e.preventDefault();var n=this;n.classList.add("reacted");var r=new FormData;r.append("reactable_type",n.dataset.reactableType),r.append("category",n.dataset.category),r.append("reactable_id",n.dataset.reactableId),getCsrfToken().then(sendFetch("reaction-creation",r)).then(function(e){200===e.status&&e.json().then(t)})}}for(var e=document.getElementsByClassName("toggle-reply-form"),t=0;t<e.length;t++){var n=e[t];n.onclick=function(e){e.preventDefault();var t=this;document.getElementById("comment-form-for-"+t.dataset.reactableId).classList.add("showing"),t.innerHTML="",setTimeout(function(){document.getElementById("comment-textarea-for-"+t.dataset.reactableId).focus()},30)}}}},180)}function listenForNotificationsBellClick(){setTimeout(function(){document.getElementById("notifications-link").onclick=function(){document.getElementById("notifications-number").classList.remove("showing")}},180)}function initScrolling(){checkIfNearBottomOfPage()}function checkIfNearBottomOfPage(){document.getElementById("index-container")&&(client=algoliasearch("YE5Y9R600C","8d178cbbbfa3157bf8eeb407142f06c8"),initScrolling.called=!0,document.getElementsByClassName("single-article").length<2||location.search.indexOf("q=")>-1?(document.getElementById("loading-articles").style.display="none",done=!0):document.getElementById("loading-articles").style.display="block",fetchNextPageIfNearBottom(),setInterval(function(){fetchNextPageIfNearBottom()},210))}function fetchNextPageIfNearBottom(){if(document.getElementById("index-container")&&!document.getElementById("query-wrapper")&&!done&&!fetching&&window.scrollY>document.documentElement.scrollHeight-3700){fetching=!0;var e=document.getElementById("index-container");"podcast-episodes"==e.dataset.which?fetchNextPodcastPage(e):algoliaPaginate(e.dataset.algoliaTag)}}function fetchNextPodcastPage(e){var t=JSON.parse(e.dataset.params),n=Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&");if(!(n.indexOf("q=")>-1)){var r="/api/podcast_episodes",o=(r+"?page="+nextPage+"&"+n+"&signature="+parseInt(Date.now()/4e5)).replace("&&","&");window.fetch(o).then(function(e){e.json().then(function(e){nextPage+=1,insertArticles(e),0==e.length&&(document.getElementById("loading-articles").style.display="none",done=!0)})})["catch"](function(e){console.log(e)})}}function insertArticles(e){var t=(document.getElementById("substories"),"");e.forEach(function(e){var n=document.getElementById("article-link-"+e.id);if(n&&n.parentElement&&n.parentElement.classList.contains("single-article-small-pic")&&!document.getElementById("video-player-"+e.id))n.parentElement.outerHTML=buildArticleHTML(e);else if(!n){var r=buildArticleHTML(e);t+=r,initializeReadingListIcons()}});var n=(document.documentElement.scrollHeight,document.body.scrollTop,document.createElement("div"));n.innerHTML=t;var r=document.getElementsByClassName("single-article");insertAfter(n,r[r.length-1]),nextPage>0&&(fetching=!1)}function algoliaPaginate(e){var t=[];e&&e.length>0&&t.push(e);var n={hitsPerPage:15,page:nextPage,attributesToHighlight:[],tagFilters:t},r=document.getElementById("index-container");"base-feed"===r.dataset.feed?paginationArticlesIndex=client.initIndex("ordered_articles_production"):"latest"===r.dataset.feed?paginationArticlesIndex=client.initIndex("ordered_articles_by_published_at_production"):(n.filters="published_at_int > "+r.dataset.articlesSince,paginationArticlesIndex=client.initIndex("ordered_articles_by_positive_reactions_count_production")),paginationArticlesIndex.search("*",n).then(function(e){nextPage+=1,insertArticles(e.hits),0==e.hits.length&&(document.getElementById("loading-articles").style.display="none",done=!0)})}function initializeAdditionalContentBoxes(){var e=document.getElementById("additional-content-area");e&&window.fetch("/additional_content_boxes?article_id="+e.dataset.articleId,{method:"GET",credentials:"same-origin"}).then(function(t){200===t.status&&t.text().then(function(t){e.innerHTML=t,initializeReadingListIcons(),initializeAllFollowButts(),initializeSponsorshipVisibility()})})}function initializeAllFollowButts(){for(var e=document.getElementsByClassName("follow-action-button"),t=0;t<e.length;t++)initializeFollowButt(e[t])}function initializeFollowButt(e){var t=userData(),n=(window.innerWidth>0?window.innerWidth:screen.width,JSON.parse(e.dataset.info));return"logged-out"===document.getElementsByTagName("body")[0].getAttribute("data-user-status")?void addModalEventListener(e):"Tag"===n.className&&t?void handleTagButtAssignment(t,e,n):void fetchButt(e,n)}function addModalEventListener(e){assignState(e,"login"),e.onclick=function(e){e.preventDefault(),showModal("follow-button")}}function fetchButt(e,t){var n;n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&200===n.status&&addButtClickHandle(n.response,e)},n.open("GET","/follows/"+t.id+"?followable_type="+t.className,!0),n.send()}function addButtClickHandle(e,t){JSON.parse(t.dataset.info);assignInitialButtResponse(e,t),t.onclick=function(e){e.preventDefault(),handleOptimisticButtRender(t)}}function handleTagButtAssignment(e,t,n){addButtClickHandle(-1!==JSON.parse(e.followed_tags).map(function(e){return e.id}).indexOf(n.id)?"true":"false",t),shouldNotFetch=!0}function assignInitialButtResponse(e,t){t.classList.add("showing"),"true"===e?assignState(t,"unfollow"):"false"===e?assignState(t,"follow"):"self"===e?assignState(t,"self"):assignState(t,"login")}function handleOptimisticButtRender(e){"self"===e.dataset.verb?window.location.href="/settings":"login"===e.dataset.verb?showModal("follow-button"):(assignState(e,e.dataset.verb),handleFollowButtPress(e))}function handleFollowButtPress(e){var t=JSON.parse(e.dataset.info),n=new FormData;n.append("followable_type",t.className),n.append("followable_id",t.id),n.append("verb",e.dataset.verb),getCsrfToken().then(sendFetch("follow-creation",n))}function assignState(e,t){var n="";e.dataset.info&&(n=JSON.parse(e.dataset.info).style),e.classList.add("showing"),"follow"===t?(e.dataset.verb="unfollow",e.classList.remove("following-butt"),addFollowText(e,n)):"login"===t?addFollowText(e,n):"self"===t?(e.dataset.verb="self",e.innerHTML="EDIT PROFILE"):(e.dataset.verb="follow",addFollowingText(e,n),e.classList.add("following-butt"))}function addFollowText(e,t){e.innerHTML="small"===t?"+":"follow-back"===t?"+ FOLLOW BACK":"+ FOLLOW"}function addFollowingText(e,t){e.innerHTML="small"===t?"\u2713":"\u2713 FOLLOWING"}function initializeAnalytics(){if(getCurrentPage("dashboards-show")){var e=document.querySelectorAll("[data-analytics-pageviews]");if(0===e.length)return;for(var t=[],n=0;n<e.length;n++)t.push(e[n].dataset.articleId);window.fetch("/analytics?article_ids="+t.join(","),{headers:{Accept:"application/json"},credentials:"same-origin"}).then(function(e){e.json().then(function(e){var t=0;for(var n in e)t+=Number(e[n]),document.getElementById("pageviews-"+n).innerHTML=numberWithCommas(e[n])+" VIEWS",document.getElementById("pageviews-"+n).classList.add("loaded"),document.getElementById("dashboard-analytics").innerHTML="Total Views: "+numberWithCommas(t);document.getElementById("dashboard-analytics-header").classList.add("loaded")})})["catch"](function(e){console.log(e)})}}function numberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function initializeArticleReactions(){setTimeout(function(){if(document.getElementById("article-body")){var e=document.getElementById("article-body").dataset.articleId;if(document.getElementById("article-reaction-actions")){var t;t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),t.onreadystatechange=function(){if(t.readyState==XMLHttpRequest.DONE){var e=JSON.parse(t.response);e.article_reaction_counts.forEach(function(e){e.count>0&&(document.getElementById("reaction-butt-"+e.category).classList.add("activated"),document.getElementById("reaction-number-"+e.category).innerHTML=e.count)}),e.reactions.forEach(function(e){document.getElementById("reaction-butt-"+e.category)&&document.getElementById("reaction-butt-"+e.category).classList.add("user-activated")})}},t.open("GET",getReactionsPath()+"?article_id="+e,!0),t.send()}}for(var n=document.getElementsByClassName("article-reaction-butt"),r=0;r<n.length;r++)n[r].onclick=function(){reactToArticle(e,this.dataset.category)}},3)}function reactToArticle(e,t){function n(){var n=new FormData;return n.append("reactable_type","Article"),n.append("reactable_id",e),n.append("category",t),n}function r(e){var n=document.getElementById("reaction-number-"+t).innerHTML;"create"==e.result?(document.getElementById("reaction-butt-"+t).classList.add("user-activated"),document.getElementById("reaction-number-"+t).innerHTML=""==n?"1":parseInt(n)+1):(document.getElementById("reaction-butt-"+t).classList.remove("user-activated"),1==n?(document.getElementById("reaction-butt-"+t).classList.remove("activated"),document.getElementById("reaction-number-"+t).innerHTML=""):document.getElementById("reaction-number-"+t).innerHTML=parseInt(n)-1)}if("logged-out"==document.getElementsByTagName("body")[0].getAttribute("data-user-status"))return void showModal("react-to-article");document.getElementById("reaction-butt-"+t).classList.add("user-activated"),getCsrfToken().then(sendFetch("reaction-creation",n())).then(function(e){if(200===e.status)return e.json().then(r)})["catch"](function(){})}function initializeBaseTracking(){var e=0,t=!1,n=setInterval(function(){t||function(e,t,n,r,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=r,a.parentNode.insertBefore(i,a)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),t=!0,e++,window.ga&&ga.create&&(ga("create","UA-71991109-1","auto"),!checkUserLoggedIn()&&Math.random()<.35&&ga("require","GTM-PNDQRRW"),ga("send","pageview",location.pathname+location.search),document.location.search.indexOf("newly-registered-user=true")>-1&&ga("send","event","registration","New user registration",location.pathname,null),clearInterval(n)),e>60&&(clearInterval(n),cromulent())},25);facebookTrackingScript(),eventListening()}function cromulent(){var e=Math.max(document.documentElement.clientWidth,window.innerWidth||0),t=Math.max(document.documentElement.clientHeight,window.innerHeight||0),n=window.screen.availWidth,r=window.screen.availHeight,o={path:location.pathname+location.search,user_language:navigator.language,referrer:document.referrer,user_agent:navigator.userAgent,viewport_size:t+"x"+e,screen_resolution:r+"x"+n,document_title:document.title,document_encoding:document.characterSet,document_path:location.pathname+location.search};window.fetch("/cromulent",{method:"POST",headers:{Accept:"application/json"},body:JSON.stringify(o),credentials:"same-origin"})}function fbTrack(){fbq("track","PageView"),document.location.search.indexOf("newly-registered-user=true")>-1&&(fbq("track","CompleteRegistration"),history.replaceState(null,document.title,window.location.href.replace("?newly-registered-user=true","")))}function facebookTrackingScript(){"undefined"==typeof fbq?(!function(e,t,n,r,o,i,a){e.fbq||(o=e.fbq=function(){o.callMethod?o.callMethod.apply(o,arguments):o.queue.push(arguments)},e._fbq||(e._fbq=o),o.push=o,o.loaded=!0,o.version="2.0",o.queue=[],i=t.createElement(n),i.async=!0,i.src=r,a=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(i,a))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),fbq("init","1332410973527587"),fbTrack()):fbTrack()}function eventListening(){var e=document.getElementById("cta-comment-register-now-link");e&&(e.onclick=function(){ga("send","event","click","register-now-click",null,null)})}function initializeBaseUserData(){var e=userData(),t='<a href="/'+e.username+'"><div class="option prime-option">@'+e.username+"</div></a>";document.getElementById("user-profile-link-placeholder").innerHTML=t,document.getElementById("nav-profile-image").src=e.profile_image_90,initializeUserSidebar(e)}function initializeUserSidebar(e){if(document.getElementById("sidebar-nav")){initializeUserProfileContent(e);var t="",n=0,r=JSON.parse(e.followed_tags);0===r.length&&(document.getElementById("tag-separator").innerHTML="Follow tags to improve your feed"),r.forEach(function(e){n++,t=t+'<div class="sidebar-nav-element" id="sidebar-element-'+e.name+'">                            <a class="sidebar-nav-link" href="/t/'+e.name+'">                            <span class="sidebar-nav-tag-text">#'+e.name+"</span>                            </a>                            </div>",document.getElementById("default-sidebar-element-"+e.name)&&document.getElementById("default-sidebar-element-"+e.name).remove()}),document.getElementById("sidebar-nav-followed-tags").innerHTML=t,document.getElementById("sidebar-nav-default-tags").classList.add("showing")}}function initializeUserProfileContent(e){document.getElementById("sidebar-profile-pic").innerHTML='<img class="sidebar-profile-pic-img" src="'+e.profile_image_90+'" />',document.getElementById("sidebar-profile-name").innerHTML=e.name,document.getElementById("sidebar-profile-username").innerHTML="@"+e.username,document.getElementById("sidebar-profile-snapshot-inner").href="/"+e.username}function initializeBodyData(){checkUserLoggedIn()?fetchBaseData():document.getElementsByTagName("body")[0].dataset.loaded="true"}function fetchBaseData(){var e;e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),e.onreadystatechange=function(){if(e.readyState==XMLHttpRequest.DONE){var t=JSON.parse(e.responseText);t.token&&removeExistingCSRF();var n=document.createElement("meta");document.querySelector("meta[name='csrf-token']");n.name="csrf-param",n.content=t.param,document.getElementsByTagName("head")[0].appendChild(n);var n=document.createElement("meta");n.name="csrf-token",n.content=t.token,document.getElementsByTagName("head")[0].appendChild(n),document.getElementsByTagName("body")[0].dataset.user=t.user,document.getElementsByTagName("body")[0].dataset.loaded="true",browserStoreCache("set",t.user),setTimeout(function(){"function"==typeof ga&&ga("set","userId",JSON.parse(t.user).id)},400)}};Date.now().toString();e.open("GET","/async_info/base_data",!0),e.send()}function removeExistingCSRF(){var e=document.querySelector("meta[name='csrf-token']"),t=document.querySelector("meta[name='csrf-param']");e&&t&&(e.parentNode.removeChild(e),t.parentNode.removeChild(t))}function initializeCommentDropdown(){function e(e){var n=e.target.parentElement,i=n.parentElement.getElementsByClassName("dropdown-content")[0];i.classList.contains("showing")?(i.classList.remove("showing"),r()):(o(),i.classList.add("showing"),document.addEventListener("click",t))}function t(e){n(e)&&(o(),r())}function n(e){return!(e.target.matches(".dropdown-icon")||e.target.matches(".dropbtn")||e.target.parentElement.classList.contains("dropdown-link-row"))}function r(){document.removeEventListener("click",t)}function o(){for(var e=document.getElementsByClassName("showing"),t=0;t<e.length;t+=1)e[t].classList.remove("showing")}setTimeout(function(){var t=document.getElementsByClassName("dropbtn");for(i=0;i<t.length;i++)t[i].onclick=e},100)}function initializeCommentPreview(){document.getElementById("preview-button")&&(document.getElementById("preview-button").onclick=handleCommentPreview)}function handleCommentPreview(e){e.preventDefault();var t=e.target.parentElement.parentElement,n=t.querySelector("textarea");if(""!==n.value){var r=t.querySelector(".comment-preview-div"),o=t.querySelector(".comment-action-preview");o.innerHTML.indexOf("PREVIEW")>-1?(n.classList.toggle("preview-loading"),getAndShowPreview(r,n),o.innerHTML="MARKDOWN"):(r.classList.toggle("preview-toggle"),n.classList.toggle("preview-toggle"),o.innerHTML="PREVIEW")}}function getAndShowPreview(e,t){function n(n){e.classList.toggle("preview-toggle"),t.classList.toggle("preview-loading"),t.classList.toggle("preview-toggle"),e.innerHTML=n.processed_html}var r=t.value,o=JSON.stringify({comment:{body_markdown:r}});getCsrfToken().then(sendFetch("comment-preview",o)).then(function(e){return e.json()}).then(n)["catch"](function(e){console.log("error!"),console.log(e)})}function initializeCommentsPage(){if(document.getElementById("comments-container")){toggleCodeOfConduct();var e,t=document.getElementById("comments-container").dataset.commentableId,n=document.getElementById("comments-container").dataset.commentableType;e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),e.onreadystatechange=function(){if(e.readyState===XMLHttpRequest.DONE){for(var t=JSON.parse(e.response),n=t.reactions,r=document.getElementsByClassName("single-comment-node"),o=t.positive_reaction_counts,i=0;i<n.length;i++){var a=document.getElementById("button-for-comment-"+n[i].reactable_id);a&&a.classList.add("reacted")}for(var i=0;i<o.length;i++){var a=document.getElementById("button-for-comment-"+o[i].id);a&&o[i].count>0&&(document.getElementById("reactions-count-"+o[i].id)?document.getElementById("reactions-count-"+o[i].id).innerHTML=o[i].count:a.innerHTML=a.innerHTML+"<span class='reactions-count' id='reactions-count-"+o[i].id+"'>"+o[i].count+"</span>")}for(var i=0;i<r.length;i++)if(r[i].dataset.commentAuthorId==t.current_user.id){r[i].dataset.currentUserComment="true";var s=r[i].children[0].children[2].children[0],c=document.getElementById("button-for-comment-"+r[i].dataset.commentId);s&&c&&(s.className="current-user-actions",s.style.display="inline-block",document.getElementById("button-for-comment-"+r[i].dataset.commentId).classList.add("reacted"))}addRelevantButtonsToArticle(t)}};Date.now().toString();e.open("GET",getReactionsPath()+"?commentable_id="+t+"&commentable_type="+n,!0),e.send();for(var r=document.getElementsByClassName("reaction-button"),o=0;o<r.length;o++){var i=r[o];i.onclick=function(e){function t(e){var t=n.children[2];"create"===e.result?(n.classList.add("reacted"),t&&(t.innerHTML=parseInt(t.innerHTML)+1)):(n.classList.remove("reacted"),t&&(t.innerHTML=parseInt(t.innerHTML)-1))}e.preventDefault();var n=this;if("logged-out"===document.getElementsByTagName("body")[0].getAttribute("data-user-status"))return void showModal("react-to-comment");n.classList.add("reacted");var r=new FormData;r.append("reactable_type","Comment"),r.append("reactable_id",n.dataset.commentId),getCsrfToken().then(sendFetch("reaction-creation",r)).then(function(e){200===e.status&&e.json().then(t)})}}for(var a=document.getElementsByClassName("toggle-reply-form"),o=0;o<a.length;o++){var i=a[o];i.onclick=function(e){if(e.preventDefault(),e.target.classList.contains("thread-indication"))return!1;if("logged-out"==document.getElementsByTagName("body")[0].getAttribute("data-user-status"))return void showModal("reply-to-comment");var r=e.target.parentNode,o=r.dataset.commentId;document.getElementById("button-for-comment-"+r.dataset.commentId).style.zIndex="5";var i=setInterval(function(){document.querySelector("meta[name='csrf-token']")&&(clearInterval(i),r.innerHTML=buildCommentFormHTML(t,n,o),setTimeout(function(){r.getElementsByTagName("textarea")[0].focus()},30))},1);return!1}}for(var s=document.getElementsByClassName("edit-butt"),o=0;o<s.length;o++){var i=s[o];i.onclick=function(){}}document.getElementById("new_comment")&&(document.getElementById("new_comment").onsubmit=handleCommentSubmit)}}function toggleCodeOfConduct(){var e=userData();if(e){var t=e.checked_code_of_conduct,n=e.number_of_comments,r=document.getElementById("toggle-code-of-conduct-checkbox");r&&!t&&n<1&&(r.innerHTML='<input type="checkbox" name="checked_code_of_conduct" class="checkbox" required/>                                  <label for="checked_code_of_conduct"/>I\'ve read the <a href="https://dev.to/code-of-conduct">code of conduct</a></label>')}}function replaceActionButts(e){var t="",n=e.getElementsByClassName("actions")[0];"true"==e.dataset.currentUserComment&&(t='<a data-no-instant href="'+e.parentNode.parentNode.dataset.path+'/delete_confirm" class="edit-butt">DELETE</a>                            <a href="'+e.parentNode.parentNode.dataset.path+'/edit">EDIT</a>'),n.innerHTML='<span class="current-user-actions">'+t+'</span><a href="#" class="toggle-reply-form">REPLY</a>'}function addRelevantButtonsToArticle(e){var t=document.getElementById("article-show-container");t&&parseInt(t.dataset.authorId)==e.current_user.id&&(document.getElementById("action-space").innerHTML='<a href="'+t.dataset.path+'/edit">EDIT <span class="post-word">POST</span></a>')}function handleCommentSubmit(e){e.preventDefault();var t=e.target;t.classList.add("submitting");var n=document.getElementById("comment-node-"+e.target.dataset.commentId),r=JSON.stringify({comment:{body_markdown:t.getElementsByTagName("textarea")[0].value,commentable_id:t.querySelector("#comment_commentable_id").value,commentable_type:t.querySelector("#comment_commentable_type").value,parent_id:t.querySelector("#comment_parent_id")?t.querySelector("#comment_parent_id").value:null}});return getCsrfToken().then(sendFetch("comment-creation",r)).then(function(e){return 200===e.status&&e.json().then(function(e){var r=document.createElement("div");if("comment already exists"==e.status)return!1;if("errors"==e.status)return alert("There was a problem submitting this comment."),!1;r.innerHTML=buildCommentHTML(e);var o=document.getElementsByTagName("body")[0],i=JSON.parse(o.getAttribute("data-user"));i.checked_code_of_conduct=!0,o.dataset.user=JSON.stringify(i);var a=t.getElementsByClassName("code-of-conduct")[0];a&&(a.innerHTML="");var s=document.getElementById("new_comment");if(n){replaceActionButts(n),e.depth>2&&(n.getElementsByClassName("toggle-reply-form")[0].innerHTML="");var c=n.getElementsByClassName("inner-comment")[0];c.parentNode.insertBefore(r,c.nextSibling)}else if(s){var s=document.getElementById("new_comment"),l=document.getElementById("text-area");s.classList.remove("submitting"),l.value="",l.classList="";var u=document.getElementById("preview-div");u.classList.add("preview-toggle"),u.innerHTML="";var d=document.getElementById("comment-trees-container");d.insertBefore(r,d.firstChild)}else if(document.getElementById("notifications-container")){var f=document.createElement("span");f.innerHTML='<div class="reply-sent-notice">Reply sent \u2014 <a href="'+e.url+'">Check it out</a></div>',t.replaceWith(f)}else window.location.replace(e.url);initializeCommentsPage(),initializeCommentDropdown()}),!1}),!1}function handleFocus(e){var t=document.getElementsByTagName("body")[0].getAttribute("data-user-status"),n=e.target;"logged-out"==t?(e.preventDefault(),showModal("reply-to-comment"),n.blur(),setTimeout(function(){n.blur(),showModal("reply-to-comment")},100)):handleSizeChange(e)}function handleBlur(){setTimeout(function(){var e=document.getElementById("text-area");0==e.value.length&&(e.className="")},100)}function handleKeyUp(e){handleSizeChange(e)}function handleSizeChange(e){var t=e.target.value.split(/\r*\n/),n=t.length;document.getElementById("text-area").className=n>11?"embiggened-max":n>6?"embiggened-more":"embiggened"}function validateField(e){if(document.getElementById("text-area")){""==document.getElementById("text-area").value&&e.preventDefault()}}function generateUploadFormdata(e){var t=document.querySelector("meta[name='csrf-token']").content,n=new FormData;return n.append("authenticity_token",t),n.append("image",e[0]),n}function handleImageUpload(e,t){document.getElementById("comments-container").dataset.commentableId;e.preventDefault(),document.getElementById("image-upload-"+t).click(),document.getElementById("image-upload-"+t).onchange=function(){document.getElementById("image-upload-"+t).files.length>0&&(document.getElementById("image-upload-file-label-"+t).style.color="#888888",document.getElementById("image-upload-file-label-"+t).innerHTML="Uploading...",document.getElementById("image-upload-submit-"+t).value="uploading",setTimeout(function(){document.getElementById("image-upload-submit-"+t).click(function(){})},50))},document.getElementById("image-upload-submit-"+t).onclick=function(e){e.preventDefault();var n=document.getElementById("image-upload-"+t).files;n.length>0&&getCsrfToken().then(sendFetch("image-upload",generateUploadFormdata(n))).then(function(e){200===e.status?e.json().then(function(e){var n=document.getElementById("uploaded-image-"+t),r=(document.getElementById("image-upload-button-"+t),document.getElementById("image-upload-file-label-"+t));r.style.display="none",n.value=e.link,n.classList.add("showing"),n.select(),r.innerHTML="Uploaded! Paste into editor",r.style.color="#00c673",r.style.position="relative",r.style.top="5px"}):(document.getElementById("image-upload-file-label-"+t).innerHTML="Invalid file!",document.getElementById("image-upload-file-label-"+t).style.color="#e05252",document.getElementById("image-upload-submit-"+t).style.display="none")})["catch"](function(){})}}function initializeDrawerSliders(){initializeSwipeGestures.called||(swipeState="middle",initializeSwipeGestures()),document.getElementById("on-page-nav-controls")&&(document.getElementById("sidebar-bg-left")&&(document.getElementById("sidebar-bg-left").onclick=function(){swipeState="middle",slideSidebar("left","outOfView")}),document.getElementById("sidebar-bg-right")&&(document.getElementById("sidebar-bg-right").onclick=function(){swipeState="middle",slideSidebar("right","outOfView")}),document.getElementById("on-page-nav-butt-left")&&(document.getElementById("on-page-nav-butt-left").onclick=function(){swipeState="left",slideSidebar("left","intoView")}),document.getElementById("on-page-nav-butt-right")&&(document.getElementById("on-page-nav-butt-right").onclick=function(){swipeState="right",slideSidebar("right","intoView")}),InstantClick.on("change",function(){document.getElementsByTagName("body")[0].classList.remove("modal-open"),slideSidebar("right","outOfView"),slideSidebar("left","outOfView")}),listenForNarrowMenuClick())}function listenForNarrowMenuClick(){for(var e=document.getElementsByClassName("narrow-nav-menu"),t=document.getElementById("narrow-feed-butt"),n=0;n<e.length;n++)document.getElementById("narrow-nav-menu").classList.remove("showing");t&&(t.onclick=function(){document.getElementById("narrow-nav-menu").classList.add("showing")});for(var n=0;n<e.length;n++)e[n].onclick=function(){document.getElementById("narrow-nav-menu").classList.remove("showing")}}function initializeFetchFollowedArticles(){document.getElementById("featured-story-marker")&&checkUserLoggedIn()&&algoliaFollowedArticles()}function insertArticle(e,t,n){if(e){var r=document.createElement("DIV");r.innerHTML=buildArticleHTML(e),t.insertBefore(r,n),initializeReadingListIcons()}}function algoliaFollowedArticles(){var e=userData();if(e&&e.followed_tag_names&&e.followed_tag_names.length>0){var t=[];e.followed_user_ids&&(t=e.followed_user_ids.map(function(e){return"user_"+e}));var n=algoliasearch("YE5Y9R600C","8d178cbbbfa3157bf8eeb407142f06c8"),r=(n.initIndex("ordered_articles_production"),{hitsPerPage:20,page:"0",attributesToHighlight:[],tagFilters:[e.followed_tag_names.concat(t)]}),o=document.getElementById("index-container");"base-feed"===o.dataset.feed?articlesIndex=n.initIndex("ordered_articles_production"):"latest"===o.dataset.feed?articlesIndex=n.initIndex("ordered_articles_by_published_at_production"):(r.filters="published_at_int > "+o.dataset.articlesSince,articlesIndex=n.initIndex("ordered_articles_by_positive_reactions_count_production")),articlesIndex.search("*",r).then(function(e){var t=document.getElementById("article-index-hidden-div");if(t){var n=t.parentNode;e.hits.forEach(function(e){document.getElementById("article-link-"+e.id)||insertArticle(e,n,t)})}})}}function initializeFooterMod(){document.getElementById("page-content").className.indexOf("stories-show")>-1?document.getElementById("footer-container").classList.remove("centered-footer"):document.getElementById("footer-container").classList.add("centered-footer")}function initializeKeyListeners(){document.addEventListener("keydown",function(e){"INPUT"==document.activeElement.tagName||"TEXTAREA"==document.activeElement.tagName||document.activeElement.classList.contains("input")||reactToEvent(e)})}function reactToEvent(e){if("find"===codeToWord[e.which]){e.preventDefault();var t=document.getElementById("nav-search");t.focus(),t.select()}}function initializeLiveArticle(){initializeLiveArticle.called=!0;var e=document.getElementById("live-article-indicator"),t=document.getElementById("article-show-container");e&&t&&"true"==t.dataset.live&&(e.innerHTML=""),window.fetch("/live_articles").then(function(t){t.json().then(function(t){checkForOnPage(t),!0===localStorageTest()&&localStorage.getItem("exited_live_article_alert")==t.path||t.path&&-1==window.location.href.indexOf(t.path)&&(e.innerHTML=liveIndicator(t),document.getElementById("live-exit-button").onclick=function(n){n.preventDefault(),e.innerHTML="",n.target.innerHTML="",!0===localStorageTest()&&localStorage.setItem("exited_live_article_alert",t.path)},e.onclick=function(){setTimeout(function(){
document.getElementById("live-article-indicator-inner")&&(fadeOutElement(document.getElementById("live-article-indicator-inner")),fadeOutElement(document.getElementById("live-exit-button")))},20)})})})}function liveIndicator(e){var t=e.tag_list.map(function(e){return"<span class='live-tag'>#"+e+"</span>"}).join(" ");return'<a href="#" class="live-exit-button" id="live-exit-button"><img src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/cancel.svg" alt="Cancel" /></a>          <a href="'+e.path+'" class="live-link" id="live-link"><div class="live-article-indicator-inner" id="live-article-indicator-inner">            <div class="live-pre-header"><span class="pulsating-circle"></span>Live Now</div>            <div class="live-article-title">'+e.title+'</div>            <div class="live-user">'+e.user.name+'</div>            <div class="live-tags">'+t+"</div>          </div></a>"}function fadeOutElement(e){var t=setInterval(function(){e.style.opacity||(e.style.opacity=1),e.style.opacity<.1?clearInterval(t):e.style.opacity-=.1},25)}function checkForOnPage(e){InstantClick!=undefined&&InstantClick.on("change",function(){e.path&&window.location.href.indexOf(e.path)>-1&&document.getElementById("live-article-indicator-inner")&&(fadeOutElement(document.getElementById("live-article-indicator-inner")),fadeOutElement(document.getElementById("live-exit-button")))})}function initializeLocalStorageRender(){try{var e=browserStoreCache("get");e&&(document.getElementsByTagName("body")[0].dataset.user=e,initializeBaseUserData(),initializeReadingListIcons(),initializeAllFollowButts(),initializeReadingListPage(),initializeSponsorshipVisibility())}catch(e){browserStoreCache("remove")}}function initializeNavSearchListener(){function e(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})}document.getElementById("nav-search").onkeydown=function(t){if(instantClick&&13===t.keyCode){var n=e(t.target.value.replace(/^[ ]+|[ ]+$/g,""));InstantClick.preload("https://dev.to/search?q="+n+filterParams())}},document.getElementById("site-search-form").onsubmit=function(e){if(instantClick){e.preventDefault();var t=document.getElementById("nav-search").value.replace(/#/g,"%23").replace(/%/g,"%25");InstantClick.display("https://dev.to/search?q="+t+filterParams())}}}function filterParams(){var e=getParameterByName("filters");return e?"&filters="+e:""}function getParameterByName(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),r=n.exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}function initializePodcastPlayback(){function e(e){return document.getElementById(e)}function t(e){return document.getElementsByClassName(e)}function n(){return e("audio")&&!e("audio").paused}function r(){return e("record-"+window.activeEpisode)}function o(t){n()&&r()&&(e("record-"+window.activeEpisode).classList.add("playing"),p(t||"playing"))}function i(){window.activeEpisode&&e("record-"+window.activeEpisode)&&(e("record-"+window.activeEpisode).classList.remove("playing"),window.activeEpisode=undefined)}function a(){var e=t("record-wrapper"),n=t("podcastliquidtag__record");return e.length>0?e:n}function s(t){e("barPlayPause").onclick=function(){w(t)},e("mutebutt").onclick=function(){_(t)},e("volbutt").onclick=function(){_(t)},e("bufferwrapper").onclick=function(e){x(e,t)},e("volumeslider").value=100*t.volume,e("volumeslider").onchange=function(e){t.volume=e.target.value/100},e("speed").onclick=function(){f(t)},e("closebutt").onclick=function(){I(t)}}function c(t){return-1!==e("audiocontent").innerHTML.indexOf(""+t)}function l(e){return function(t){E(t,e)}}function u(t){e("audiocontent").innerHTML=e("hidden-audio-"+t).innerHTML;var n=e("audio");n.addEventListener("timeupdate",l(n),!1),n.load(),w(n),s(n)}function d(){var t=a();Array.prototype.forEach.call(t,function(t){var n=t.getAttribute("data-episode");t.getAttribute("data-podcast");t.onclick=function(){if(c(n)){var t=e("audio");t&&w(t)}else i(),u(n)}})}function f(t){var n=e("speed"),r=parseFloat(n.getAttribute("data-speed"));2==r?(n.setAttribute("data-speed",.5),n.innerHTML="0.5x",t.playbackRate=.5):(n.setAttribute("data-speed",r+.5),n.innerHTML=r+.5+"x",t.playbackRate=r+.5)}function p(t){e("status-message-"+window.activeEpisode)?e("status-message-"+window.activeEpisode).innerHTML=t:"loading"===t&&document.querySelector(".status-message")&&(document.querySelector(".status-message").innerHTML=t)}function m(){var e="You are currently playing a podcast. Are you sure you want to leave?";window.onclick=function(t){"A"!==t.target.tagName||t.target.href.includes("https://dev.to")||(t.preventDefault(),window.confirm(e)&&(window.location=t.target.href))},window.onbeforeunload=function(){return e}}function h(){e("barPlayPause").classList.add("playing"),e("progressBar").classList.add("playing"),e("animated-bars").classList.add("playing")}function g(e){e.play().then(function(){o(),h(),m()},function(){})["catch"](function(){e.play(),setTimeout(function(){o("loading"),h(),m()},300)})}function y(){window.onbeforeunload=function(){return null}}function v(){e("barPlayPause").classList.remove("playing"),e("animated-bars").classList.remove("playing")}function b(e){e.pause(),i(),v(),y()}function w(e){p("loading"),window.activeEpisode=e.getAttribute("data-episode"),window.activePodcast=e.getAttribute("data-podcast"),e.paused?(ga("send","event","click","play podcast",window.activePodcast+" "+window.activeEpisode,null),g(e)):(ga("send","event","click","pause podcast",window.activePodcast+" "+window.activeEpisode,null),b(e))}function _(t){t.muted?(t.muted=!1,e("mutebutt").classList.add("hidden"),e("volumeindicator").classList.add("showing"),e("mutebutt").classList.remove("showing"),e("volumeindicator").classList.remove("hidden")):(t.muted=!0,e("mutebutt").classList.add("showing"),e("volumeindicator").classList.add("hidden"),e("mutebutt").classList.remove("hidden"),e("volumeindicator").classList.remove("showing"))}function E(t,n){var r=e("progress"),o=e("buffer"),i=e("time"),a=0,s=0;n.currentTime>0&&(a=Math.floor(100/n.duration*n.currentTime),s=n.buffered.end(n.buffered.length-1)/n.duration*100),r.style.width=a+"%",o.style.width=s+"%",i.innerHTML=T(n.currentTime)+" / "+T(n.duration)}function x(t,n){var r=e("progress");if(t.clientX>128){var o=(t.clientX-128)/(window.innerWidth-133),i=n.duration;n.currentTime=i*o,time.innerHTML=T(n.currentTime)+" / "+T(n.duration),r.style.width=100*o+"%"}}function T(e){var t=Math.floor(e),n=Math.floor(t/60);return n=n>=10?n:"0"+n,t=Math.floor(t%60),t=t>=10?t:"0"+t,n+":"+t}function I(t){event.stopPropagation(),t.removeEventListener("timeupdate",l,!1),e("audiocontent").innerHTML="",i(),y()}o(),d()}function initializeReadingListIcons(){for(var e=document.getElementsByClassName("bookmark-engage"),t=0;t<e.length;t++)highlightButton(e[t]);addReadingListCountToHomePage()}function highlightButton(e){var t=userData(),n=parseInt(e.dataset.reactableId);t&&t.reading_list_ids.indexOf(n)>-1?e.classList.add("selected"):e.classList.remove("selected"),e.addEventListener("click",reactToReadingListButtonClick)}function addReadingListCountToHomePage(){var e=userData();if(e&&document.getElementById("reading-list-count")){var t=e.reading_list_ids.length>0?e.reading_list_ids.length:"EMPTY";document.getElementById("reading-list-count").innerHTML="("+t+")",document.getElementById("reading-list-count").dataset.count=e.reading_list_ids.length}}function reactToReadingListButtonClick(e){if(e.preventDefault(),"logged-out"==document.getElementsByTagName("body")[0].getAttribute("data-user-status"))return void showModal("add-to-readinglist-from-index");var t=properButtonFromEvent(e);renderOptimisticResult(t),getCsrfToken().then(sendFetch("reaction-creation",buttonFormData(t))).then(function(e){if(200===e.status)return e.json().then(function(e){renderButtonState(t,e),renderNewSidebarCount(t,e)})})["catch"](function(){})}function renderButtonState(e,t){"create"===t.result?e.classList.add("selected"):e.classList.remove("selected")}function renderNewSidebarCount(e,t){var n=parseInt(document.getElementById("reading-list-count").dataset.count);"create"===t.result?newCount=n+1:0!=n&&(newCount=n-1),document.getElementById("reading-list-count").dataset.count=newCount,document.getElementById("reading-list-count").innerHTML="("+newCount+")"}function buttonFormData(e){var t=new FormData;return t.append("reactable_type","Article"),t.append("reactable_id",e.dataset.reactableId),t.append("category","readinglist"),t}function renderOptimisticResult(e){renderButtonState(e,{result:"create"})}function properButtonFromEvent(e){return"BUTTON"==e.target.tagName?e.target:e.target.parentElement}function initializeReadingListPage(){if(getCurrentPage("reading_list_items-index")&&checkUserLoggedIn()){client=algoliasearch("YE5Y9R600C","8d178cbbbfa3157bf8eeb407142f06c8"),readinglistIndex=client.initIndex("ordered_articles_production"),commentsIndex=client.initIndex("ordered_comments_production");var e=getQueryParams(document.location.search);document.getElementById("substories").dataset.tabs='{"v": "'+(e.v||"")+'", "t": "'+(e.t||"")+'" }',postCommentFilter(),getArticles("***onlytags***"),document.getElementById("load-more-cta").onclick=function(e){e.target.classList.remove("showing"),getArticles("")}}}function getArticles(e,t){var n=userData(),r=document.getElementById("substories"),o=n.reading_list_ids.map(function(e){return"articles-"+e}),i=[],a={};readinglistIndex.getObjects(o,function(n,o){var s=t?o.results.slice(0,t):o.results;if(s.forEach(function(t){t&&((""==e||t.tag_list.indexOf(e)>-1)&&i.push(buildArticleHTML(t)),t.tag_list.forEach(function(e){a[e]?a[e]=a[e]+1:a[e]=1}))}),"***onlytags***"!=e){if(r.innerHTML=i.join(""),0==i.length){var c="<div style='text-align:left;margin-top:20px;'>This is where to find your bookmarked posts, but it looks like you have not bookmarked anything.</div>";r.innerHTML=c}}else s.lenth>43&&document.getElementById("load-more-cta").classList.add("showing"),renderTags(a);initializeReadingListIcons()})}function getComments(){var e=userData(),t=e.reading_list_ids.map(function(e){return"commentable_Article_"+e}),n=document.getElementById("substories"),r=JSON.parse(n.dataset.tabs);commentsIndex.search("*",{hitsPerPage:45,attributesToHighlight:[],tagFilters:[t,r.t]}).then(function(e){var t=document.getElementById("substories"),n=[];e.hits.forEach(function(e){var t="";t=t+'<div class="comment-view-parent comment-view-commentable"><a href="'+e.commentable.path+'">Re: '+e.commentable.title+"</a></div>",e.parent_path&&(t=t+'<div class="comment-view-parent"><a href="'+e.root_path+'">VIEW COMMENT TREE</a></div>'),n.push(t+buildCommentHTML(e))}),t.innerHTML='<div class="comment-trees"><h2>Recent Comment Activity</h2>'+n.join("<br/>")+"</div>",initializeCommentDropdown(),initializeCommentsPage()})}function renderTags(e){var t=[];for(var n in e)t.push([n,e[n]]);t.sort(function(e,t){return t[1]-e[1]});var r=[];t.forEach(function(e){var t='<button class="query-filter-button query-tag-filter-button" data-tag="'+e[0]+'">#'+e[0]+" ("+e[1]+")</button>";r.push(t)}),document.getElementById("tag-filters").innerHTML=r.join("");var o=getQueryParams(document.location.search),n=filterXSS(o.t||"");tagFilters(n)}function getQueryParams(e){e=e.split("+").join(" ");for(var t,n={},r=/[?&]?([^=]+)=([^&]*)/g;t=r.exec(e);)n[decodeURIComponent(t[1])]=decodeURIComponent(t[2]);return n}function tagFilters(e){for(var t=document.getElementById("substories"),n=document.getElementsByClassName("query-tag-filter-button"),r=0;r<n.length;r++)n[r].classList.remove("selected"),e==n[r].dataset.tag&&n[r].classList.add("selected"),n[r].onclick=function(e){var r=e.target.dataset.tag;window.scrollTo(0,0);for(var o=e.target.className,i=JSON.parse(t.dataset.tabs),a=0;a<n.length;a++)n[a].classList.remove("selected");-1==o.indexOf("selected")?(e.target.classList.add("selected"),assignTab(i,"t",r),getStories()):(assignTab(i,"t",""),getStories())}}function postCommentFilter(){var e=document.getElementById("substories"),t=JSON.parse(e.dataset.tabs);getStories();for(var n=document.getElementsByClassName("query-type-filter-button"),r=0;r<n.length;r++)n[r].classList.remove("selected"),(t.v||"posts")===n[r].dataset.type&&n[r].classList.add("selected"),n[r].onclick=function(t){for(var r=0;r<n.length;r++)n[r].classList.remove("selected");assignTab(JSON.parse(e.dataset.tabs),"v",t.target.dataset.type),t.target.classList.add("selected"),getStories()}}function getStories(){var e=document.getElementById("substories"),t=JSON.parse(e.dataset.tabs);"comments"==t.v?getComments(t.t||""):getArticles(t.t||"",45)}function assignTab(e,t,n){return e[t]=n,substories.dataset.tabs=JSON.stringify(e),window.history.replaceState(null,null,"/readinglist"+urlParams(e)),e}function urlParams(e){return e.v.length>0&&e.t.length>0?"?v="+e.v+"&t="+e.t:e.v.length>0?"?v="+e.v:e.t.length>0?"?t="+e.t:""}function initializeSettings(){document.getElementById("settings-org-secret")&&(document.getElementById("settings-org-secret").onclick=function(e){e.target.select()})}function sendSplitViewData(e){ga("send",{hitType:"event",eventCategory:"Split Test",eventAction:"view",eventLabel:"Version: "+e})}function isHidden(e){return null===e.offsetParent}function initializeSplitTestTracking(){setTimeout(function(){for(var e=document.getElementsByClassName("split-test-tracking-div"),t=0;t<e.length;t++)"function"!=typeof ga||isHidden(e[t])||sendSplitViewData(e[t].dataset.version)},350)}function trackOutboundLink(e,t){window.ga&&ga.loaded?ga("send","event","Split Test","signup-click","Version: "+t,{transport:"beacon",hitCallback:function(){document.location=e}}):window.location=e}function initializeSponsorshipVisibility(){var e=document.getElementById("sponsorship-widget")||document.getElementById("partner-content-display"),t=userData();e&&setTimeout(function(){window.ga&&0===document.querySelectorAll("[data-partner-seen]").length&&(ga("send","event","view","sponsor displayed on page",e.dataset.details,null),e.dataset.partnerSeen="true")},400),e&&t&&t.display_sponsors?(e.classList.add("showing"),listenForSponsorClick()):e&&t?e.classList.remove("showing"):e&&(e.classList.add("showing"),listenForSponsorClick())}function listenForSponsorClick(){setTimeout(function(){if(window.ga)for(var e=document.getElementsByClassName("partner-link"),t=0;t<e.length;t++)e[t].onclick=function(e){e.target.classList.contains("follow-action-button")&&(handleOptimisticButtRender(e.target),handleFollowButtPress(e.target)),ga("send","event","click","click sponsor link",e.target.dataset.details,null)}},400)}function initializeStylesheetAppend(){if(!document.getElementById("main-head-stylesheet")){var e=document.createElement("link");e.type="text/css",e.id="main-head-stylesheet",e.rel="stylesheet",e.href="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/minimal-1f12f0cb73202e9f37a1b9dbee6fe63f632b37bf3cb12def97ec6b0d4795822a.css",document.getElementsByTagName("head")[0].appendChild(e)}}function initializeSwipeGestures(){initializeSwipeGestures.called=!0,swipeState="middle",setTimeout(function(){!function(e){var t=function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!0,!0,e.target),e.target.dispatchEvent(n),n=null,!1},n=!0,r={x:0,y:0},o={x:0,y:0},i={touchstart:function(e){r={x:e.touches[0].pageX,y:e.touches[0].pageY,scrollY:window.scrollY}},touchmove:function(e){n=!1,o={x:e.touches[0].pageX,y:e.touches[0].pageY,scrollY:window.scrollY}},touchend:function(e){if(n)t(e,"fc");else{var i=o.x-r.x,a=Math.abs(i),s=o.y-r.y,c=Math.abs(s),l=Math.abs(r.scrollY-o.scrollY);if(Math.max(a,c)>15){t(e,a/2>c&&l<5?i<0?"swl":"swr":s<0?"swu":"swd")}}n=!0},touchcancel:function(){n=!1}};for(var a in i)e.addEventListener(a,i[a],!1)}(document);document.body.addEventListener("swl",handleSwipeLeft,!1),document.body.addEventListener("swr",handleSwipeRight,!1)},50)}function handleSwipeLeft(){document.getElementById("on-page-nav-controls")&&("middle"==swipeState?(swipeState="right",slideSidebar("right","intoView")):(swipeState="middle",slideSidebar("left","outOfView")))}function handleSwipeRight(){document.getElementById("on-page-nav-controls")&&("middle"==swipeState?(swipeState="left",slideSidebar("left","intoView")):(swipeState="middle",slideSidebar("right","outOfView")))}function initializeTouchDevice(){var e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);setTimeout(function(){removeShowingMenu(),e?document.getElementById("navigation-butt").onclick=function(){document.getElementById("navbar-menu-wrapper").classList.toggle("showing")}:document.getElementById("navbar-menu-wrapper").classList.add("desktop")},10)}function removeShowingMenu(){document.getElementById("navbar-menu-wrapper").classList.remove("showing"),setTimeout(function(){document.getElementById("navbar-menu-wrapper").classList.remove("showing")},5),setTimeout(function(){document.getElementById("navbar-menu-wrapper").classList.remove("showing")},150)}function browserStoreCache(e,t){try{if("set"===e)localStorage.setItem("current_user",t);else{if("remove"!==e)return localStorage.getItem("current_user");localStorage.removeItem("current_user")}}catch(e){browserStoreCache("remove")}}function buildArticleHTML(e){if(e&&"podcast_episodes"==e.type_of)return'<div class="single-article single-article-small-pic">      <div class="small-pic">       <a href="/'+e.podcast.slug+'" class="small-pic-link-wrapper">         <img src="'+e.podcast.image_url+'" alt="'+e.podcast.title+' image">       </a>       </div>       <a href="'+e.path+'" class="small-pic-link-wrapper index-article-link" id="article-link-'+e.id+'">        <div class="content">         <h3><span class="tag-identifier">podcast</span>'+e.title+'</h3>        </div>       </a>       <h4><a href="/'+e.podcast.slug+'">'+e.podcast.title+"</a></h4>       </div>";if(e){var t=document.getElementById("index-container"),n="";e.tag_list&&e.tag_list.forEach(function(e){n=n+'<a href="/t/'+e+'"><span class="tag">#'+e+"</span></a>\n"});var r="";(e.comments_count||"0")>0&&"User"!=e.class_name&&(r='<div class="article-engagement-count comments-count"><a href="'+e.path+'"><img src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/comments-bubble-7448082accd39cfe9db9b977f38fa6e8f8d26dc43e142c5d160400d6f952ee47.png" alt="chat" /><span class="engagement-count-number">'+(e.comments_count||"0")+"</span></a></div>");var o="";if(t)var i=JSON.parse(t.dataset.params).tag;e.flare_tag&&i!=e.flare_tag.name&&(o="<span class='tag-identifier' style='background:"+e.flare_tag.bg_color_hex+";color:"+e.flare_tag.text_color_hex+"'>#"+e.flare_tag.name+"</span>"),"PodcastEpisode"==e.class_name&&(o="<span class='tag-identifier'>podcast</span>"),"User"==e.class_name&&(o="<span class='tag-identifier' style='background:#5874d9;color:white;'>person</span>");var a=e.positive_reactions_count||e.reactions_count,s="";if((a||"0")>0&&"User"!=e.class_name)var s='<div class="article-engagement-count reactions-count"><a href="'+e.path+'"><img src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/reactions-stack-4bb9c1e4b3e71b7aa135d6f9a5ef29a6494141da882edd4fa971a77abe13dbe7.png" alt="heart" /><span id="engagement-count-number-'+e.id+'" class="engagement-count-number">'+(a||"0")+"</span></a></div>";if(e.organization&&e.tag_list.indexOf("hiring")>-1&&!document.getElementById("organization-index-page"))var c=e.organization.profile_image_90,l=e.organization.slug;else var c=e.user.profile_image_90,l=e.user.username;var u="";e.is_classic&&(u='<a href="'+e.path+'" class="article-classic-headline" id="article-classic-headline"><div class="article-classic-headline-inner">Classic from '+e.published_at_month_day+"</div></a>");var d="",f="",p="";if(e._snippetResult&&e._snippetResult.body_text){if("none"!=e._snippetResult.body_text.matchLevel){var m=e._snippetResult.body_text.value[0],h="";m.toLowerCase()!=m.toUpperCase()&&(h="\u2026"),d=h+e._snippetResult.body_text.value+"\u2026"}if("none"!=e._snippetResult.comments_blob.matchLevel&&""===d){var m=e._snippetResult.comments_blob.value[0],h="";m.toLowerCase()!=m.toUpperCase()&&(h="\u2026"),f=h+e._snippetResult.comments_blob.value+"\u2026 <i>(comments)</i>"}(d.length>0||f.length>0)&&"Article"==e.class_name&&(p='<div class="search-snippet"><span>'+d+f+"</span></div>")}var g="";if("Article"===e.class_name)var g='<button class="article-engagement-count bookmark-engage" data-reactable-id="'+e.id+'">                        <span class="bm-success"><img src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/readinglist-button-e4b1ab5f30d473858ad7869871396fc40796e21a1e79987edd2c689faf8ac455.png" alt="bookmark" /> SAVED</span>                        <span class="bm-initial">SAVE</span>                      </button>';else if("User"===e.class_name)var g='<button style="width: 122px" class="article-engagement-count bookmark-engage follow-action-button"                       data-info=\'{"id":'+e.id+',"className":"User"}\' data-follow-action-button>                       &nbsp;                      </button>';var y="";return e.readable_publish_date&&(y="\u30fb"+e.readable_publish_date),'<div class="single-article single-article-small-pic">      '+u+'      <div class="small-pic">       <a href="/'+l+'" class="small-pic-link-wrapper">         <img src="'+c+'" alt="'+l+' profile">       </a>       </div>       <a href="'+e.path+'" class="small-pic-link-wrapper index-article-link" id="article-link-'+e.id+'">        <div class="content">         <h3>'+o+filterXSS(e.title)+"</h3>         "+p+'        </div>       </a>       <h4><a href="/'+e.user.username+'">'+filterXSS(e.user.name)+y+'</a></h4>       <div class="tags">'+n+"</div>       "+r+s+"       "+g+"</div>"}}function buildCommentFormHTML(e,t,n){var r=document.querySelector("meta[name='csrf-token']").getAttribute("content"),o=userData(),i="";o&&!o.codeOfConduct&&o.commentCount<1&&(i='<div class="code-of-conduct sub-comment-code-of-conduct" style="display:block" id="toggle-code-of-conduct-checkbox">                            <input class="checkbox" type="checkbox" name="checked_code_of_conduct" required />                            <label for="checked_code_of_conduct">I\'ve read the <a href="https://dev.to/code-of-conduct">code of conduct</a></label>                          </div>');var a=Math.floor(1991*Math.random());return'<form class="new_comment" onsubmit="handleCommentSubmit.bind(this)(event)" id="new-comment-'+n+'" action="/comments" accept-charset="UTF-8" method="post" data-comment-id="'+n+'">            <input name="utf8" type="hidden" value="&#x2713;" />            <input type="hidden" name="authenticity_token" value="'+r+'">            <input value="'+e+'" type="hidden" name="comment[commentable_id]" id="comment_commentable_id" />            <input value="'+t+'" type="hidden" name="comment[commentable_type]" id="comment_commentable_type" />            <input value="'+n+'" type="hidden" name="comment[parent_id]" id="comment_parent_id" />            <textarea id="textarea-for-'+n+'" class="embiggened" name="comment[body_markdown]" id="comment_body_markdown" required></textarea>            <div class="preview-toggle comment-preview-div body"></div>                '+i+'            <a href="/p/editor_guide" class="markdown-guide" target="_blank" title="Markdown Guide">              <img class="icon-image" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/info-e41d8339284ee95aee60021abfd0f2cecd660193460eaf6b58f0c71b36770668.svg" />            </a>            <div class="editor-image-upload">              <input type="file" id="image-upload-'+a+'"  name="file" accept="image/*" style="display:none">              <button  title="Upload Image" class="image-upload-button" id="image-upload-button-'+a+'" onclick="handleImageUpload(event,'+a+')">                <img class="icon-image" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/image-upload-3a2d56cb56c9a8f3242791854c02e6cdc0a3cf71f3d007ea1278e323ffa2abc8.svg" />              </button>              <label  class="image-upload-file-label" id="image-upload-file-label-'+a+'"></label>              <input type="submit" id="image-upload-submit-'+a+'" value="Upload" style="display:none">              <input class="uploaded-image" id="uploaded-image-'+a+'" />            </div>            <div class="actions reply-actions">              <a href="#" class="cancel" onclick="cancel(event,this)">CANCEL</a>              <button id="preview-button" class="comment-action-button comment-action-preview" onclick="handleCommentPreview(event)">PREVIEW</button>              <input type="submit" class="comment-action-button" name="commit" value="SUBMIT" />            </div>          </form>'}function cancel(e,t){e.preventDefault(),replaceActionButts(t.parentNode.parentNode.parentNode.parentNode),initializeCommentsPage()}function buildCommentHTML(e){var t="",n="",r="",o="";return t=e.newly_created?0==e.depth?"root":e.depth<3?"child":"child flat-node":"child flat-node",e.user.twitter_username&&e.user.twitter_username.length>0&&(r='<a href="http://twitter.com/'+e.user.twitter_username+'"><img class="icon-img" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/twitter-logo-4f403dcfabe199e4eb9a484b701775e631514af75a980b2744a1d0cbfbaaa706.svg" alt="Twitter logo" /></a>'),e.user.github_username&&e.user.github_username.length>0&&(n='<a href="http://github.com/'+e.user.github_username+'"><img class="icon-img" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/github-logo-6a5bca60a4ebf959a6df7f08217acd07ac2bc285164fae041eacb8a148b1bab9.svg" alt="Github logo" /></a>'),e.newly_created&&(o="comment-created-via-fetch"),"<style>"+e.css+'</style>          <div class="comment-hash-marker" id="'+e.id_code+'"></div>          <div id="comment-node-'+e.id+'" class="single-comment-node '+t+" comment-deep-"+e.depth+'" "          data-comment-id="'+e.id+'" data-comment-author-id="'+e.user.id+'" data-current-user-comment="'+e.newly_created+'">          <div class="inner-comment '+o+'">            <div class="details">              <a href="/'+e.user.username+'">                <img class="profile-pic" src="'+e.user.profile_pic+'">                <span class="comment-username"><span class="comment-username-inner">'+e.user.name+"</span></span>              </a>                "+r+"                "+n+'              <div class="comment-date">                <a href="'+e.url+'">'+e.readable_publish_date+'</a>              </div>              <button class="dropbtn">                <img class="dropdown-icon" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/chevron-down-d149f7889a817e8ce4b452ea675aa345211dae83575d079902470fb4e367ea5c.svg" alt="Chevron down" />              </button>              <div class="dropdown">                  <div class="dropdown-content">                    <a href="'+e.url+'">                      Permalink                    </a>                    <a href="/report-abuse">Report Abuse</a>                  </div>              </div>            </div>            <div class="body">              '+e.body_html+"              "+reactions(e)+"            </div>            "+actions(e)+"          </div>      </div>"}function actions(e){return e.newly_created?'<div class="actions" data-comment-id="'+e.id+'" data-path="'+e.url+'">              <span class="current-user-actions" style="display: '+(e.newly_created?"inline-block":"none")+';">                <a data-no-instant="" href="'+e.url+'/delete_confirm" class="edit-butt" rel="nofollow">DELETE</a>                <a href="'+e.url+'/edit" class="edit-butt" rel="nofollow">EDIT</a>              </span>                <a href="#" class="toggle-reply-form" rel="nofollow">REPLY</a>            </div>':'<div class="actions" data-comment-id="'+e.id+'" data-path="'+e.url+'" data-commentable-id="'+e.commentable.id+'">                <a href="'+e.url+'" rel="nofollow">VIEW/REPLY</a>            </div>'}function reactions(e){if(e.newly_created)return'<button class="reaction-button reacted" id="button-for-comment-'+e.id+'" data-comment-id="'+e.id+'">              <img src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/favorite-heart-outline-button-2dcee70f90c0bc12bee8cbc5a8a409ba181e88912814fb0515214204bdc92c71.svg" alt="Favorite heart outline button">              <img class="voted-heart" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/emoji/emoji-one-heart-86ec9beca6e804af6db630e35a1e12ebd169103c0156e881e7f8a38933e1a546.png">              <span class="reactions-count" id="reactions-count-'+e.id+'">1</span></button>';if(e.heart_ids.indexOf(userData().id)>-1)var t="reacted";else var t="";return'<button style="background:white" class="reaction-button '+t+'" id="button-for-comment-'+e.id+'" data-comment-id="'+e.id+'">              <img src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/favorite-heart-outline-button-2dcee70f90c0bc12bee8cbc5a8a409ba181e88912814fb0515214204bdc92c71.svg" alt="Favorite heart outline button">              <img class="voted-heart" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/emoji/emoji-one-heart-86ec9beca6e804af6db630e35a1e12ebd169103c0156e881e7f8a38933e1a546.png">              <span class="reactions-count" id="reactions-count-'+e.id+'">'+e.positive_reactions_count+"</span></button>"}function checkUserLoggedIn(){return"logged-in"==document.getElementsByTagName("body")[0].getAttribute("data-user-status")}function createAjaxReq(){return window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}function getCsrfToken(){return new Promise(function(e,t){var n=0,r=setInterval(function(){var o=document.querySelector("meta[name='csrf-token']");if(n++,o){clearInterval(r);var i=o.getAttribute("content");return e(i)}if(1e3===n){clearInterval(r);var a=new airbrakeJs.Client({projectId:1,projectKey:"4520505f5806ca4578979a09f4fcfe9a"});return a.addFilter(function(e){return e.context.environment="production",e}),a.notify("Could no locate CSRF metatag"+JSON.stringify(localStorage.current_user)),t("Could not locate CSRF meta tag on the page.")}},5)})}function getCurrentPage(e){return document.querySelectorAll("[data-current-page='"+e+"']").length>0}function getImageForLink(e){var t=e.getAttribute("data-preload-image");if(t&&-1==$fetchedImageUrls.indexOf(t)){(new Image).src=t,$fetchedImageUrls.push(t)}}function getReactionsPath(){return checkUserLoggedIn()?"/reactions":"/reactions/logged_out_reaction_counts"}function insertAfter(e,t){t&&t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)}function localStorageTest(){var e="devtolocalstoragetestforavaialbility";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}function preventDefaultAction(e){e.preventDefault()}function sendFetch(e,t){switch(e){case"article-preview":return function(e){return window.fetch("/articles/preview",{method:"POST",headers:{"X-CSRF-Token":e,Accept:"application/json","Content-Type":"application/json"},body:t,credentials:"same-origin"})};case"reaction-creation":return function(e){return t.append("authenticity_token",e),window.fetch("/reactions",{method:"POST",headers:{"X-CSRF-Token":e},body:t,credentials:"same-origin"})};case"image-upload":return function(e){return t.append("authenticity_token",e),window.fetch("/image_uploads",{method:"POST",headers:{"X-CSRF-Token":e},body:t,credentials:"same-origin"})};case"follow-creation":return function(e){return t.append("authenticity_token",e),window.fetch("/follows",{method:"POST",headers:{"X-CSRF-Token":e},body:t,credentials:"same-origin"})};case"comment-creation":return function(e){return window.fetch("/comments",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":e},body:t,credentials:"same-origin"})};case"comment-preview":return function(e){return window.fetch("/comments/preview",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":e},body:t,credentials:"same-origin"})};default:console.log("A wrong switchStatement was used.")}}function showModal(){document.getElementById("global-signup-modal").style.display="block",document.getElementById("global-signup-modal").classList.add("showing"),document.getElementsByTagName("body")[0].classList.add("modal-open"),initSignupModal(),sendSplitViewData(document.getElementById("global-signup-modal").dataset.version)}function initSignupModal(){document.getElementById("global-signup-modal")&&(document.getElementById("global-signup-modal-bg").onclick=function(){document.getElementById("global-signup-modal").style.display="none",
document.getElementById("global-signup-modal").classList.remove("showing"),document.getElementsByTagName("body")[0].classList.remove("modal-open")})}function slideSidebar(e,t){document.getElementById("sidebar-wrapper-"+e)&&("intoView"===t?(document.getElementById("articles-list").classList.add("modal-open"),document.getElementsByTagName("body")[0].classList.add("modal-open"),document.getElementById("sidebar-wrapper-"+e).classList.add("swiped-in"),document.getElementById("sidebar-wrapper-"+e).scrollTop=0,document.getElementById("articles-list").addEventListener("touchmove",preventDefaultAction,!1)):(document.getElementById("articles-list").classList.remove("modal-open"),document.getElementsByTagName("body")[0].classList.remove("modal-open"),document.getElementById("sidebar-wrapper-"+e).classList.remove("swiped-in"),document.getElementById("articles-list").removeEventListener("touchmove",preventDefaultAction,!1)))}function userData(){return null===document.getElementsByTagName("body")[0].getAttribute("data-user")?null:JSON.parse(document.getElementsByTagName("body")[0].getAttribute("data-user"))}function initializePage(){initializeLocalStorageRender(),initializeStylesheetAppend(),initializeFetchFollowedArticles(),callInitalizers()}function callInitalizers(){initializeLocalStorageRender(),initializeBodyData();var e=setInterval(function(){"true"==document.getElementsByTagName("body")[0].getAttribute("data-loaded")&&(clearInterval(e),"logged-in"==document.getElementsByTagName("body")[0].getAttribute("data-user-status")&&initializeBaseUserData(),initializeReadingListPage(),initializeAllFollowButts(),initializeReadingListIcons(),initializeSponsorshipVisibility(),document.getElementById("sidebar-additional")&&document.getElementById("sidebar-additional").classList.add("showing"))},1);initializeBaseTracking(),initializeTouchDevice(),initializeKeyListeners(),initializeCommentsPage(),initEditorResize(),initLeaveEditorWarning(),initializeArticleReactions(),initNotifications(),initializeSplitTestTracking(),initializeNavSearchListener(),initializeStylesheetAppend(),initializeAnalytics(),initializeCommentDropdown(),initializeSettings(),initializeFooterMod(),initializeCommentPreview(),initializeAdditionalContentBoxes(),initializeLiveArticle.called||initializeLiveArticle(),initializeDrawerSliders(),nextPage=0,fetching=!1,done=!1,setTimeout(function(){done=!1},300),initScrolling.called||initScrolling()}function initializeBaseApp(){InstantClick.on("change",function(){initializePage()}),InstantClick.init()}function initializeAirbrake(){var e=new airbrakeJs.Client({projectId:1,projectKey:"4520505f5806ca4578979a09f4fcfe9a"});e.addFilter(function(e){return e.context.environment="production",e});try{initializeBaseApp()}catch(t){e.notify(t)}}var scrollInterval,lastPressedKey,lastPressTime,codeToWord={191:"find"},$fetchedImageUrls=[];!function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n||e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){function r(){return{}}function o(){}function i(){}function a(){}function s(){}function c(e){return e.replace(I,"&lt;").replace(k,"&gt;")}function l(e,t,n,r){if(n=h(n),"href"===t||"src"===t){if("#"===(n=x.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(A.lastIndex=0,A.test(n))return""}else if("style"===t){if(C.lastIndex=0,C.test(n))return"";if(N.lastIndex=0,N.test(n)&&(A.lastIndex=0,A.test(n)))return"";!1!==r&&(r=r||T,n=r.process(n))}return n=g(n)}function u(e){return e.replace(S,"&quot;")}function d(e){return e.replace(L,'"')}function f(e){return e.replace(B,function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))})}function p(e){return e.replace(O,":").replace(j," ")}function m(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return x.trim(t)}function h(e){return e=d(e),e=f(e),e=p(e),e=m(e)}function g(e){return e=u(e),e=c(e)}function y(){return""}function v(e,t){function n(t){return!!r||-1!==x.indexOf(e,t)}"function"!=typeof t&&(t=function(){});var r=!Array.isArray(e),o=[],i=!1;return{onIgnoreTag:function(e,r,a){if(n(e)){if(a.isClosing){var s="[/removed]",c=a.position+s.length;return o.push([!1!==i?i:a.position,c]),i=!1,s}return i||(i=a.position),"[removed]"}return t(e,r,a)},remove:function(e){var t="",n=0;return x.forEach(o,function(r){t+=e.slice(n,r[0]),n=r[1]}),t+=e.slice(n)}}}function b(e){return e.replace(R,"")}function w(e){var t=e.split("");return t=t.filter(function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}),t.join("")}var _=e("cssfilter").FilterCSS,E=e("cssfilter").getDefaultWhiteList,x=e("./util"),T=new _,I=/</g,k=/>/g,S=/"/g,L=/&quot;/g,B=/&#([a-zA-Z0-9]*);?/gim,O=/&colon;?/gim,j=/&newline;?/gim,A=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,C=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,N=/u\s*r\s*l\s*\(.*/gi,R=/<!--[\s\S]*?-->/g;n.whiteList=r(),n.getDefaultWhiteList=r,n.onTag=o,n.onIgnoreTag=i,n.onTagAttr=a,n.onIgnoreTagAttr=s,n.safeAttrValue=l,n.escapeHtml=c,n.escapeQuote=u,n.unescapeQuote=d,n.escapeHtmlEntities=f,n.escapeDangerHtml5Entities=p,n.clearNonPrintableCharacter=m,n.friendlyAttrValue=h,n.escapeAttrValue=g,n.onIgnoreTagStripAll=y,n.StripTagBody=v,n.stripCommentTag=b,n.stripBlankChar=w,n.cssFilter=T,n.getDefaultCSSWhiteList=E},{"./util":4,cssfilter:8}],2:[function(e,t,n){function r(e,t){return new a(t).process(e)}var o=e("./default"),i=e("./parser"),a=e("./xss");n=t.exports=r,n.FilterXSS=a;for(var s in o)n[s]=o[s];for(var s in i)n[s]=i[s];"undefined"!=typeof window&&(window.filterXSS=t.exports)},{"./default":1,"./parser":3,"./xss":5}],3:[function(e,t,n){function r(e){var t=e.indexOf(" ");if(-1===t)var n=e.slice(1,-1);else var n=e.slice(1,t+1);return n=d.trim(n).toLowerCase(),"/"===n.slice(0,1)&&(n=n.slice(1)),"/"===n.slice(-1)&&(n=n.slice(0,-1)),n}function o(e){return"</"===e.slice(0,2)}function i(e,t,n){"user strict";var i="",a=0,s=!1,c=!1,l=0,u=e.length,d="",f="";for(l=0;l<u;l++){var p=e.charAt(l);if(!1===s){if("<"===p){s=l;continue}}else if(!1===c){if("<"===p){i+=n(e.slice(a,l)),s=l,a=l;continue}if(">"===p){i+=n(e.slice(a,s)),d=e.slice(s,l+1),f=r(d),i+=t(s,i.length,f,d,o(d)),a=l+1,s=!1;continue}if(('"'===p||"'"===p)&&"="===e.charAt(l-1)){c=p;continue}}else if(p===c){c=!1;continue}}return a<e.length&&(i+=n(e.substr(a))),i}function a(e,t){"user strict";function n(e,n){if(e=d.trim(e),e=e.replace(f,"").toLowerCase(),!(e.length<1)){var r=t(e,n||"");r&&o.push(r)}}for(var r=0,o=[],i=!1,a=e.length,l=0;l<a;l++){var p,m,h=e.charAt(l);if(!1!==i||"="!==h)if(!1===i||l!==r||'"'!==h&&"'"!==h||"="!==e.charAt(l-1))if(" "!==h);else{if(!1===i){if(-1===(m=s(e,l))){p=d.trim(e.slice(r,l)),n(p),i=!1,r=l+1;continue}l=m-1;continue}if(-1===(m=c(e,l-1))){p=d.trim(e.slice(r,l)),p=u(p),n(i,p),i=!1,r=l+1;continue}}else{if(-1===(m=e.indexOf(h,l+1)))break;p=d.trim(e.slice(r+1,m)),n(i,p),i=!1,l=m,r=l+1}else i=e.slice(r,l),r=l+1}return r<e.length&&(!1===i?n(e.slice(r)):n(i,u(d.trim(e.slice(r))))),d.trim(o.join(" "))}function s(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function c(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function l(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}function u(e){return l(e)?e.substr(1,e.length-2):e}var d=e("./util"),f=/[^a-zA-Z0-9_:\.\-]/gim;n.parseTag=i,n.parseAttr=a},{"./util":4}],4:[function(e,t){t.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")}}},{}],5:[function(e,t){function n(e){return e===undefined||null===e}function r(e){var t=e.indexOf(" ");if(-1===t)return{html:"",closing:"/"===e[e.length-2]};e=d.trim(e.slice(t+1,-1));var n="/"===e[e.length-1];return n&&(e=d.trim(e.slice(0,-1))),{html:e,closing:n}}function o(e){var t={};for(var n in e)t[n]=e[n];return t}function i(e){e=o(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=s.onIgnoreTagStripAll),e.whiteList=e.whiteList||s.whiteList,e.onTag=e.onTag||s.onTag,e.onTagAttr=e.onTagAttr||s.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||s.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||s.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||s.safeAttrValue,e.escapeHtml=e.escapeHtml||s.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new a(e.css))}var a=e("cssfilter").FilterCSS,s=e("./default"),c=e("./parser"),l=c.parseTag,u=c.parseAttr,d=e("./util");i.prototype.process=function(e){if(e=e||"",!(e=e.toString()))return"";var t=this,o=t.options,i=o.whiteList,a=o.onTag,c=o.onIgnoreTag,f=o.onTagAttr,p=o.onIgnoreTagAttr,m=o.safeAttrValue,h=o.escapeHtml,g=t.cssFilter;o.stripBlankChar&&(e=s.stripBlankChar(e)),o.allowCommentTag||(e=s.stripCommentTag(e));var y=!1;if(o.stripIgnoreTagBody){var y=s.StripTagBody(o.stripIgnoreTagBody,c);c=y.onIgnoreTag}var v=l(e,function(e,t,o,s,l){var y={sourcePosition:e,position:t,isClosing:l,isWhite:o in i},v=a(o,s,y);if(!n(v))return v;if(y.isWhite){if(y.isClosing)return"</"+o+">";var b=r(s),w=i[o],_=u(b.html,function(e,t){var r=-1!==d.indexOf(w,e),i=f(o,e,t,r);if(!n(i))return i;if(r)return t=m(o,e,t,g),t?e+'="'+t+'"':e;var i=p(o,e,t,r);return n(i)?void 0:i}),s="<"+o;return _&&(s+=" "+_),b.closing&&(s+=" /"),s+=">"}var v=c(o,s,y);return n(v)?h(s):v},h);return y&&(v=y.remove(v)),v},t.exports=i},{"./default":1,"./parser":3,"./util":4,cssfilter:8}],6:[function(e,t){function n(e){return e===undefined||null===e}function r(e){var t={};for(var n in e)t[n]=e[n];return t}function o(e){e=r(e||{}),e.whiteList=e.whiteList||i.whiteList,e.onAttr=e.onAttr||i.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||i.onIgnoreAttr,this.options=e}var i=e("./default"),a=e("./parser");e("./util");o.prototype.process=function(e){if(e=e||"",!(e=e.toString()))return"";var t=this,r=t.options,o=r.whiteList,i=r.onAttr,s=r.onIgnoreAttr;return a(e,function(e,t,r,a,c){var l=o[r],u=!1;!0===l?u=l:"function"==typeof l?u=l(a):l instanceof RegExp&&(u=l.test(a)),!0!==u&&(u=!1);var d={position:t,sourcePosition:e,source:c,isWhite:u};if(u){var f=i(r,a,d);return n(f)?r+":"+a:f}var f=s(r,a,d);if(!n(f))return f})},t.exports=o},{"./default":7,"./parser":9,"./util":10}],7:[function(e,t,n){function r(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e["float"]=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function o(){}function i(){}n.whiteList=r(),n.getDefaultWhiteList=r,n.onAttr=o,n.onIgnoreAttr=i},{}],8:[function(e,t,n){function r(e,t){return new i(t).process(e)}var o=e("./default"),i=e("./css");n=t.exports=r,n.FilterCSS=i;for(var a in o)n[a]=o[a];"undefined"!=typeof window&&(window.filterCSS=t.exports)},{"./css":6,"./default":7}],9:[function(e,t){function n(e,t){function n(){if(!i){var n=r.trim(e.slice(a,s)),o=n.indexOf(":");if(-1!==o){var l=r.trim(n.slice(0,o)),u=r.trim(n.slice(o+1));if(l){var d=t(a,c.length,l,u,n);d&&(c+=d+"; ")}}}a=s+1}e=r.trimRight(e),";"!==e[e.length-1]&&(e+=";");for(var o=e.length,i=!1,a=0,s=0,c="";s<o;s++){var l=e[s];if("/"===l&&"*"===e[s+1]){var u=e.indexOf("*/",s+2);if(-1===u)break;s=u+1,a=s+1,i=!1}else"("===l?i=!0:")"===l?i=!1:";"===l?i||n():"\n"===l&&n()}return r.trim(c)}var r=e("./util");t.exports=n},{"./util":10}],10:[function(e,t){t.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},{}]},{},[2]),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Client=t():(e.airbrakeJs=e.airbrakeJs||{},e.airbrakeJs.Client=t())}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t){"use strict";function n(){return"function"==typeof fetch?"fetch":"function"==typeof XMLHttpRequest?"xhr":"object"==typeof window?"jsonp":"node"}Object.defineProperty(t,"__esModule",{value:!0}),t.detectReporter=n,t.errors={unauthorized:new Error("airbrake: unauthorized: project id or key are wrong"),ipRateLimited:new Error("airbrake: IP is rate limited")}},function(e,t){"use strict";function n(e,t){void 0===t&&(t=64e3);for(var n="",o=0;o<8;o++)if(e.context=r(e.context,o),e.params=r(e.params,o),e.environment=r(e.environment,o),e.session=r(e.session,o),n=JSON.stringify(e),n.length<t)return n;var i=new Error("airbrake-js: cannot jsonify notice (length="+n.length+" maxLength="+t+")");throw i.params={json:n.slice(0,Math.floor(t/2))+"..."},i}function r(e,t){var n={};for(var r in e)n[r]=o(e[r],t);return n}function o(e,t){return new s(t).truncate(e)}function i(e,t){try{return e[t]}catch(e){return}}function a(e){return Object.prototype.toString.apply(e).slice("[object ".length,-1)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var s=function(){function e(e){void 0===e&&(e=0),this.maxStringLength=1024,this.maxObjectLength=128,this.maxArrayLength=32,this.maxDepth=8,this.keys=[],this.seen=[],this.maxStringLength=this.maxStringLength>>e||1,this.maxObjectLength=this.maxObjectLength>>e||1,this.maxArrayLength=this.maxArrayLength>>e||1,this.maxDepth=this.maxDepth>>e||1}return e.prototype.truncate=function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=0),null===e||e===undefined)return e;switch(typeof e){case"boolean":case"number":case"function":return e;case"string":return this.truncateString(e);case"object":break;default:return String(e)}if(e instanceof String)return this.truncateString(e.toString());if(e instanceof Boolean||e instanceof Number||e instanceof Date||e instanceof RegExp)return e;if(e instanceof Error)return e.toString();if(this.seen.indexOf(e)>=0)return"[Circular "+this.getPath(e)+"]";var r=a(e);if(++n>this.maxDepth)return"[Truncated "+r+"]";switch(this.keys.push(t),this.seen.push(e),r){case"Array":return this.truncateArray(e,n);case"Object":return this.truncateObject(e,n);default:var o=this.maxDepth;this.maxDepth=0;var i=this.truncateObject(e,n);return i.__type=r,this.maxDepth=o,i}},e.prototype.getPath=function(e){for(var t=this.seen.indexOf(e),n=[this.keys[t]],r=t;r>=0;r--){var o=this.seen[r];o&&i(o,n[0])===e&&(e=o,n.unshift(this.keys[r]))}return"~"+n.join(".")},e.prototype.truncateString=function(e){return e.length>this.maxStringLength?e.slice(0,this.maxStringLength)+"...":e},e.prototype.truncateArray=function(e,t){var n=0,r=[];for(var o in e){var i=e[o];if(++n>=this.maxArrayLength)break;r.push(this.truncate(i,o,t))}return r},e.prototype.truncateObject=function(e,t){var n=0,r={};for(var o in e){var a=i(e,o);if(a!==undefined&&"function"!=typeof a){if(++n>=this.maxObjectLength)break;r[o]=this.truncate(a,o,t)}}return r},e}();t.truncate=o},function(e,t,n){n(3),e.exports=n(4)},function(){Object.assign||(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=function(t){t&&Object.keys(t).forEach(function(n){return e[n]=t[n]})},o=0,i=t;o<i.length;o++){r(i[o])}return e})},function(e,t,n){"use strict";var r=n(5),o=n(6),i=n(9),a=n(10),s=n(11),c=n(12),l=n(13),u=n(14),d=n(0),f=n(15),p=n(16),m=n(17),h=n(18),g=n(19),y=function(){function e(e){void 0===e&&(e={});var t=this;this.opts={},this.reporters=[],this.filters=[],this.offline=!1,this.errors=[],this.opts=e,this.opts.host=this.opts.host||"https://api.airbrake.io",this.opts.timeout=this.opts.timeout||1e4,this.processor=e.processor||o["default"],this.addReporter(e.reporter||d.detectReporter(e)),this.addFilter(i["default"]),this.addFilter(a["default"]()),this.addFilter(s["default"]),this.addFilter(c["default"]),"object"==typeof window?(this.addFilter(l["default"]),"function"==typeof window.addEventListener&&(window.addEventListener("online",this.onOnline.bind(this)),window.addEventListener("offline",function(){return t.offline=!0}))):this.addFilter(u["default"]),g.historian.registerNotifier(this)}return e.prototype.setProject=function(e,t){this.opts.projectId=e,this.opts.projectKey=t},e.prototype.setHost=function(e){this.opts.host=e},e.prototype.addReporter=function(e){var t;switch(e){case"fetch":t=f["default"];break;case"node":t=p["default"];break;case"xhr":t=m["default"];break;case"jsonp":t=h["default"];break;default:t=e}this.reporters.push(t)},e.prototype.addFilter=function(e){this.filters.push(e)},e.prototype.notify=function(e){var t=this;"object"==typeof e&&e.error!==undefined||(e={error:e});var n=e.promise||new r["default"];if(!e.error){var o=new Error("airbrake-js: got err="+JSON.stringify(e.error)+", wanted an Error");return n.reject(o),n}if(this.opts.ignoreWindowError&&e.context&&e.context.windowError){var o=new Error("airbrake-js: window error is ignored");return n.reject(o),n}if(this.offline)return e.promise=n,this.errors.push(e),this.errors.length>100&&this.errors.slice(-100),n;var i={id:"",errors:[],context:Object.assign({language:"JavaScript",severity:"error",notifier:{name:"airbrake-js",version:"0.9.8",url:"https://github.com/airbrake/airbrake-js"}},e.context),params:e.params||{},environment:e.environment||{},session:e.session||{}},a=g.getHistory();return a.length>0&&(i.context.history=a),this.processor(e.error,function(e,r){i.errors.push(r);for(var o=0,a=t.filters;o<a.length;o++){var s=a[o],c=s(i);if(null===c)return void n.reject(new Error("airbrake-js: error is filtered"));i=c}for(var l=0,u=t.reporters;l<u.length;l++){(0,u[l])(i,t.opts,n)}}),n},e.prototype.wrap=function(e){if(e._airbrake)return e;var t=this,n=function(){var n=Array.prototype.slice.call(arguments),r=t.wrapArguments(n);try{return e.apply(this,r)}catch(e){throw t.notify({error:e,params:{arguments:n}}),g.historian.ignoreNextWindowError(),e}};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n._airbrake=!0,n.inner=e,n},e.prototype.wrapArguments=function(e){for(var t in e){var n=e[t];"function"==typeof n&&(e[t]=this.wrap(n))}return e},e.prototype.call=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this.wrap(e).apply(this,Array.prototype.slice.call(arguments,1))},e.prototype.onerror=function(){g.historian.onerror.apply(g.historian,arguments)},e.prototype.onOnline=function(){this.offline=!1;for(var e=0,t=this.errors;e<t.length;e++){var n=t[e];this.notify(n)}this.errors=[]},e}();e.exports=y},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.onResolved=[],this.onRejected=[],e&&e(this.resolve.bind(this),this.reject.bind(this))}return e.prototype.then=function(e,t){return e&&(this.resolvedWith?e(this.resolvedWith):this.onResolved.push(e)),t&&(this.rejectedWith?t(this.rejectedWith):this.onRejected.push(t)),this},e.prototype["catch"]=function(e){return this.rejectedWith?e(this.rejectedWith):this.onRejected.push(e),this},e.prototype.resolve=function(e){if(this.resolvedWith||this.rejectedWith)throw new Error("Promise is already resolved or rejected");this.resolvedWith=e;for(var t=0,n=this.onResolved;t<n.length;t++){(0,n[t])(e)}return this},e.prototype.reject=function(e){if(this.resolvedWith||this.rejectedWith)throw new Error("Promise is already resolved or rejected");this.rejectedWith=e;for(var t=0,n=this.onRejected;t<n.length;t++){(0,n[t])(e)}return this},e}();t["default"]=n},function(e,t,n){"use strict";function r(e){try{return i.parse(e)}catch(t){a&&e.stack&&console.warn("ErrorStackParser:",t.toString(),e.stack)}return e.fileName?[e]:[]}function o(e,t){var n=[];if(!e.noStack){var o=r(e);if(0===o.length)try{throw new Error("fake")}catch(e){o=r(e),o.shift(),o.shift()}for(var i=0,a=o;i<a.length;i++){var s=a[i];n.push({"function":s.functionName||"",file:s.fileName||"<unknown>",line:s.lineNumber||0,column:s.columnNumber||0})}}var c;c=e.name?e.name:"";var l;l=e.message?String(e.message):String(e),t("stacktracejs",{type:c,message:l,backtrace:n})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),a="object"==typeof console&&console.warn;t["default"]=o},function(e,t,n){var r=!1;!function(t,o){"use strict";"function"==typeof r&&r.amd?r("error-stack-parser",["stackframe"],o):e.exports=o(n(8))}(0,function(e){"use strict";var t=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,r=/^(eval@)?(\[native code\])?$/;return{parse:function(e){if("undefined"!=typeof e.stacktrace||"undefined"!=typeof e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,n=t.exec(e.replace(/[\(\)]/g,""));return[n[1],n[2]||undefined,n[3]||undefined]},parseV8OrIE:function(t){return t.stack.split("\n").filter(function(e){return!!e.match(n)},this).map(function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),r=this.extractLocation(n.pop()),o=n.join(" ")||undefined,i=["eval","<anonymous>"].indexOf(r[0])>-1?undefined:r[0];return new e({functionName:o,fileName:i,lineNumber:r[1],columnNumber:r[2],source:t})},this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter(function(e){return!e.match(r)},this).map(function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var n=t.split("@"),r=this.extractLocation(n.pop()),o=n.join("@")||undefined;return new e({functionName:o,fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:t})},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),o=[],i=2,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new e({fileName:s[2],lineNumber:s[1],source:r[i]}))}return o},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),o=[],i=0,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new e({functionName:s[3]||undefined,fileName:s[2],lineNumber:s[1],source:r[i]}))}return o},parseOpera11:function(n){return n.stack.split("\n").filter(function(e){return!!e.match(t)&&!e.match(/^Error created at/)},this).map(function(t){var n,r=t.split("@"),o=this.extractLocation(r.pop()),i=r.shift()||"",a=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||undefined;i.match(/\(([^\)]*)\)/)&&(n=i.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var s=n===undefined||"[arguments not available]"===n?undefined:n.split(",");return new e({functionName:a,args:s,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})},this)}}})},function(e){var t=!1;!function(n,r){"use strict";"function"==typeof t&&t.amd?t("stackframe",[],r):e.exports=r()}(0,function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e[0].toUpperCase()+e.substring(1)}function n(e){return function(){return this[e]}}function r(e){if(e instanceof Object)for(var n=0;n<c.length;n++)e.hasOwnProperty(c[n])&&e[c[n]]!==undefined&&this["set"+t(c[n])](e[c[n]])}var o=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],a=["fileName","functionName","source"],s=["args"],c=o.concat(i,a,s);r.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof r)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new r(e)}},toString:function(){return(this.getFunctionName()||"{anonymous}")+"("+(this.getArgs()||[]).join(",")+")"+(this.getFileName()?"@"+this.getFileName():"")+(e(this.getLineNumber())?":"+this.getLineNumber():"")+(e(this.getColumnNumber())?":"+this.getColumnNumber():"")}};for(var l=0;l<o.length;l++)r.prototype["get"+t(o[l])]=n(o[l]),r.prototype["set"+t(o[l])]=function(e){return function(t){this[e]=Boolean(t)}}(o[l]);for(var u=0;u<i.length;u++)r.prototype["get"+t(i[u])]=n(i[u]),r.prototype["set"+t(i[u])]=function(t){return function(n){if(!e(n))throw new TypeError(t+" must be a Number");this[t]=Number(n)}}(i[u])
;for(var d=0;d<a.length;d++)r.prototype["get"+t(a[d])]=n(a[d]),r.prototype["set"+t(a[d])]=function(e){return function(t){this[e]=String(t)}}(a[d]);return r})},function(e,t){"use strict";function n(e){var t=e.errors[0];if(""===t.type&&-1!==r.indexOf(t.message))return null;if(t.backtrace&&t.backtrace.length>0){if("<anonymous>"===t.backtrace[0].file)return null}return e}Object.defineProperty(t,"__esModule",{value:!0});var r=["Script error","Script error.","InvalidAccessError"];t["default"]=n},function(e,t){"use strict";function n(){var e,t;return function(n){var r=JSON.stringify(n.errors);return r===e?null:(t&&clearTimeout(t),e=r,t=setTimeout(function(){e=""},1e3),n)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";function n(e){var t=e.errors[0];if(""!==t.type&&"Error"!==t.type)return e;var n=t.message.match(r);return null!==n&&(t.type=n[1],t.message=n[2]),e}Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp(["^","Uncaught\\s","(.+?)",":\\s","(.+)","$"].join(""));t["default"]=n},function(e,t){"use strict";function n(e){var t=e.errors[0];if(""!==t.type&&"Error"!==t.type)return e;var n=t.message.match(r);return null!==n&&(t.type=n[1],t.message=n[2]),e}Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp(["^","\\[(\\$.+)\\]","\\s","([\\s\\S]+)","$"].join(""));t["default"]=n},function(e,t){"use strict";function n(e){return window.navigator&&window.navigator.userAgent&&(e.context.userAgent=window.navigator.userAgent),window.location&&(e.context.url=String(window.location),e.context.rootDirectory=window.location.protocol+"//"+window.location.host),e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(module,exports,__webpack_require__){"use strict";function filter(e){os&&(e.context.os=os.type()+"/"+os.release(),e.context.architecture=os.arch(),e.context.hostname=os.hostname()),e.context.platform=myProcess.platform,e.context.rootDirectory||(e.context.rootDirectory=myProcess.cwd()),myProcess.env.NODE_ENV&&(e.context.environment=myProcess.env.NODE_ENV),e.params.process={pid:myProcess.pid,cwd:myProcess.cwd(),execPath:myProcess.execPath,argv:myProcess.argv};for(var t in["uptime","cpuUsage","memoryUsage"])myProcess[t]&&(e.params.process[t]=myProcess[t]());return os&&(e.params.os={homedir:os.homedir(),uptime:os.uptime(),freemem:os.freemem(),totalmem:os.totalmem(),loadavg:os.loadavg()}),e}Object.defineProperty(exports,"__esModule",{value:!0});var myProcess,os;try{myProcess=eval("process"),os=eval("require")("os")}catch(e){}exports["default"]=filter},function(e,t,n){"use strict";function r(e,t,n){if(Date.now()/1e3<a)return void n.reject(i.errors.ipRateLimited);var r=t.host+"/api/v3/projects/"+t.projectId+"/notices?key="+t.projectKey,s=o["default"](e),c={method:"POST",body:s};fetch(r,c).then(function(t){if(401===t.status)return void n.reject(i.errors.unauthorized);if(429===t.status){n.reject(i.errors.ipRateLimited);var r=t.headers.get("X-RateLimit-Delay");if(!r)return;var o=parseInt(r,10);return void(o>0&&(a=Date.now()/1e3+o))}if(t.status>=200&&t.status<500)return void t.json().then(function(t){if(t.id)return e.id=t.id,void n.resolve(e);if(t.error){var r=new Error(t.error);return void n.reject(r)}});t.text().then(function(e){var r=new Error("airbrake: fetch: unexpected response: code="+t.status+" body='"+e+"'");n.reject(r)})})["catch"](function(e){n.reject(e)})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=0;t["default"]=r},function(module,exports,__webpack_require__){"use strict";function report(e,t,n){if(Date.now()/1e3<rateLimitReset)return void n.reject(reporter_1.errors.ipRateLimited);var r=t.host+"/api/v3/projects/"+t.projectId+"/notices?key="+t.projectKey,o=jsonify_notice_1["default"](e);request({url:r,method:"POST",body:o,headers:{"content-type":"application/json"},timeout:t.timeout},function(t,r,o){if(t)return void n.reject(t);if(!r.statusCode)return void n.reject(new Error("airbrake: node: statusCode is undefined"));if(401===r.statusCode)return void n.reject(reporter_1.errors.unauthorized);if(429===r.statusCode){n.reject(reporter_1.errors.ipRateLimited);var i=r.headers["x-ratelimit-delay"];if(!i)return;var a=void 0;if("string"==typeof i)a=i;else{if(!(i instanceof Array))return;a=i[0]}var s=parseInt(a,10);return void(s>0&&(rateLimitReset=Date.now()/1e3+s))}if(r.statusCode>=200&&r.statusCode<500){var c=JSON.parse(o);if(c.id)return e.id=c.id,void n.resolve(e);if(c.error){var l=new Error(c.error);return void n.reject(l)}}o=o.trim();var u=new Error("airbrake: node: unexpected response: code="+r.statusCode+" body='"+o+"'");n.reject(u)})}Object.defineProperty(exports,"__esModule",{value:!0});var jsonify_notice_1=__webpack_require__(1),reporter_1=__webpack_require__(0),request;try{request=eval("require")("request")}catch(e){}var rateLimitReset=0;exports["default"]=report},function(e,t,n){"use strict";function r(e,t,n){if(Date.now()/1e3<a)return void n.reject(i.errors.ipRateLimited);var r=t.host+"/api/v3/projects/"+t.projectId+"/notices?key="+t.projectKey,s=o["default"](e),c=new XMLHttpRequest;c.open("POST",r,!0),c.timeout=t.timeout,c.onreadystatechange=function(){if(4===c.readyState){if(401===c.status)return void n.reject(i.errors.unauthorized);if(429===c.status){n.reject(i.errors.ipRateLimited);var t=c.getResponseHeader("X-RateLimit-Delay");if(!t)return;var r=parseInt(t,10);return void(r>0&&(a=Date.now()/1e3+r))}if(c.status>=200&&c.status<500){var o=JSON.parse(c.responseText);if(o.id)return e.id=o.id,void n.resolve(e);if(o.error){var s=new Error(o.error);return void n.reject(s)}}var l=c.responseText.trim(),u=new Error("airbrake: xhr: unexpected response: code="+c.status+" body='"+l+"'");n.reject(u)}},c.send(s)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=0;t["default"]=r},function(e,t,n){"use strict";function r(e,t,n){i++;var r="airbrakeCb"+String(i);window[r]=function(t){try{delete window[r]}catch(e){window[r]=undefined}if(t.id)return e.id=t.id,void n.resolve(e);if(t.error){var o=new Error(t.error);return void n.reject(o)}var i=new Error(t);n.reject(i)};var a=encodeURIComponent(o["default"](e)),s=t.host+"/api/v3/projects/"+t.projectId+"/create-notice?key="+t.projectKey+"&callback="+r+"&body="+a,c=window.document,l=c.getElementsByTagName("head")[0],u=c.createElement("script");u.src=s,u.onload=function(){return l.removeChild(u)},u.onerror=function(){l.removeChild(u);var e=new Error("airbrake: JSONP script error");n.reject(e)},l.appendChild(u)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=0;t["default"]=r},function(module,exports,__webpack_require__){"use strict";function getHistory(){return exports.historian.getHistory()}Object.defineProperty(exports,"__esModule",{value:!0});var dom_1=__webpack_require__(20),Historian=function(){function Historian(){var _this=this;if(this.historyMaxLen=20,this.notifiers=[],this.errors=[],this.ignoreWindowError=0,this.history=[],this.ignoreNextXHR=0,"object"==typeof window){var self_1=this,oldHandler_1=window.onerror;window.onerror=function(){oldHandler_1&&oldHandler_1.apply(this,arguments),self_1.onerror.apply(self_1,arguments)}}else{var p=eval("process");p.on("uncaughtException",function(e){throw _this.notify(e),e}),p.on("unhandledRejection",function(e){_this.notify(e)})}"object"==typeof document&&this.dom(),"object"==typeof console&&this.console(),"function"==typeof fetch&&this.fetch(),"undefined"!=typeof XMLHttpRequest&&this.xhr(),"object"==typeof history&&this.location()}return Historian.prototype.registerNotifier=function(e){this.notifiers.push(e);for(var t=0,n=this.errors;t<n.length;t++){var r=n[t];this.notifyNotifiers(r)}this.errors=[]},Historian.prototype.notify=function(e){if(this.notifiers.length>0)return void this.notifyNotifiers(e);this.errors.push(e),this.errors.length>this.historyMaxLen&&(this.errors=this.errors.slice(-this.historyMaxLen))},Historian.prototype.notifyNotifiers=function(e){for(var t=0,n=this.notifiers;t<n.length;t++){n[t].notify(e)}},Historian.prototype.onerror=function(e,t,n,r,o){if(!(this.ignoreWindowError>0))return o?void this.notify({error:o,context:{windowError:!0}}):void(t&&n&&this.notify({error:{message:e,fileName:t,lineNumber:n,columnNumber:r,noStack:!0},context:{windowError:!0}}))},Historian.prototype.ignoreNextWindowError=function(){var e=this;this.ignoreWindowError++,setTimeout(function(){return e.ignoreWindowError--})},Historian.prototype.getHistory=function(){return this.history},Historian.prototype.pushHistory=function(e){if(this.isDupState(e))return void(this.lastState.num?this.lastState.num++:this.lastState.num=2);e.date||(e.date=new Date),this.history.push(e),this.lastState=e,this.history.length>this.historyMaxLen&&(this.history=this.history.slice(-this.historyMaxLen))},Historian.prototype.isDupState=function(e){if(!this.lastState)return!1;for(var t in e)if("date"!==t&&e[t]!==this.lastState[t])return!1;return!0},Historian.prototype.dom=function(){var e=dom_1.makeEventHandler(this);document.addEventListener("DOMContentLoaded",e),window.addEventListener("load",e),document.addEventListener("click",e),document.addEventListener("keypress",e),window.addEventListener("error",function(t){"error"in t||e(t)},!0)},Historian.prototype.console=function(){for(var e=this,t=["debug","log","info","warn","error"],n=(function(t){if(!(t in console))return"continue";var n=console[t],r=function(){n.apply(console,arguments),e.pushHistory({type:"log",severity:t,arguments:Array.prototype.slice.call(arguments)})};r.inner=n,console[t]=r}),r=0,o=t;r<o.length;r++){n(o[r])}},Historian.prototype.fetch=function(){var e=this,t=fetch;window.fetch=function(n,r){var o={type:"xhr",date:new Date};o.url="string"==typeof n?n:n.url,r&&r.method?o.method=r.method:o.method="GET",e.ignoreNextXHR++,setTimeout(function(){return e.ignoreNextXHR--});var i=t.apply(this,arguments);return i.then(function(t){o.statusCode=t.status,o.duration=(new Date).getTime()-o.date.getTime(),e.pushHistory(o)}),i}},Historian.prototype.xhr=function(){var e=this,t=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(n,r){0===e.ignoreNextXHR&&(this.__state={type:"xhr",method:n,url:r}),t.apply(this,arguments)};var n=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){var t=this.onreadystatechange;return this.onreadystatechange=function(){if(4===this.readyState&&this.__state&&e.recordReq(this),t)return t.apply(this,arguments)},this.__state&&(this.__state.date=new Date),n.apply(this,arguments)}},Historian.prototype.recordReq=function(e){var t=e.__state;t.statusCode=e.status,t.duration=(new Date).getTime()-t.date.getTime(),this.pushHistory(t)},Historian.prototype.location=function(){this.lastLocation=document.location.pathname;var e=this,t=window.onpopstate;window.onpopstate=function(){if(e.recordLocation(document.location.pathname),t)return t.apply(this,arguments)};var n=history.pushState;history.pushState=function(t,r,o){o&&e.recordLocation(o.toString()),n.apply(this,arguments)}},Historian.prototype.recordLocation=function(e){var t=e.indexOf("://");t>=0?(e=e.slice(t+3),t=e.indexOf("/"),e=t>=0?e.slice(t):"/"):"/"!==e.charAt(0)&&(e="/"+e),this.pushHistory({type:"location",from:this.lastLocation,to:e}),this.lastLocation=e},Historian}();exports["default"]=Historian,exports.historian=new Historian,exports.getHistory=getHistory},function(e,t){"use strict";function n(e){if(!e)return"";var t=[];if(e.tagName&&t.push(e.tagName.toLowerCase()),e.id&&(t.push("#"),t.push(e.id)),e.className&&(t.push("."),t.push(e.className.split(" ").join("."))),e.getAttribute)for(var n=0,r=i;n<r.length;n++){var o=r[n],a=e.getAttribute(o);a&&t.push("["+o+'="'+a+'"]')}return t.join("")}function r(e){for(var t=10,r=[],o=e;o;){var i=n(o);if(""!==i&&(r.push(i),r.length>t))break;o=o.parentNode}return 0===r.length?String(e):r.reverse().join(" > ")}function o(e){return function(t){var n;try{n=t.target}catch(e){return}if(n){var o={type:t.type};try{o.target=r(n)}catch(e){o.target="<"+e.toString()+">"}e.pushHistory(o)}}}Object.defineProperty(t,"__esModule",{value:!0});var i=["type","name","src"];t.makeEventHandler=o}])}),"serviceWorker"in navigator&&navigator.serviceWorker.register("/serviceworker.js",{scope:"/"}).then(function(){})["catch"](function(e){console.log("ServiceWorker registration failed: ",e)}),window.addEventListener("beforeinstallprompt",function(e){e.userChoice.then(function(e){ga("send","event","PWA-install",e.outcome)})}),function(e){var t;"undefined"!=typeof window?t=window:"undefined"!=typeof self&&(t=self),t.ALGOLIA_MIGRATION_LAYER=e()}(function(){return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n||e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t){function n(e,t){for(var n in t)e.setAttribute(n,t[n])}function r(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function o(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}t.exports=function(e,t,i){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");"function"==typeof t&&(i=t,t={}),t=t||{},i=i||function(){},s.type=t.type||"text/javascript",s.charset=t.charset||"utf8",s.async=!("async"in t&&!t.async),s.src=e,t.attrs&&n(s,t.attrs),t.text&&(s.text=""+t.text),("onload"in s?r:o)(s,i),s.onload||r(s,i),a.appendChild(s)}},{}],2:[function(e,t){"use strict";function n(e){for(var t=new RegExp("cdn\\.jsdelivr\\.net/algoliasearch/latest/"+e.replace(".","\\.")+"(?:\\.min)?\\.js$"),n=document.getElementsByTagName("script"),r=!1,o=0,i=n.length;o<i;o++)if(n[o].src&&t.test(n[o].src)){r=!0;break}return r}t.exports=n},{}],3:[function(e,t){"use strict";function n(t){var n=e(1),o="//cdn.jsdelivr.net/algoliasearch/2/"+t+".min.js",i="-- AlgoliaSearch `latest` warning --\nWarning, you are using the `latest` version string from jsDelivr to load the AlgoliaSearch library.\nUsing `latest` is no more recommended, you should load //cdn.jsdelivr.net/algoliasearch/2/algoliasearch.min.js\n\nAlso, we updated the AlgoliaSearch JavaScript client to V3. If you want to upgrade,\nplease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch  `latest` warning --";window.console&&(window.console.warn?window.console.warn(i):window.console.log&&window.console.log(i));try{document.write("<script>window.ALGOLIA_SUPPORTS_DOCWRITE = true</script>"),!0===window.ALGOLIA_SUPPORTS_DOCWRITE?(document.write('<script src="'+o+'"></script>'),r("document.write")()):n(o,r("DOMElement"))}catch(e){n(o,r("DOMElement"))}}function r(e){return function(){var t="AlgoliaSearch: loaded V2 script using "+e;window.console&&window.console.log&&window.console.log(t)}}t.exports=n},{1:1}],4:[function(e,t){"use strict";function n(){var e="-- AlgoliaSearch V2 => V3 error --\nYou are trying to use a new version of the AlgoliaSearch JavaScript client with an old notation.\nPlease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch V2 => V3 error --";window.AlgoliaSearch=function(){throw new Error(e)},window.AlgoliaSearchHelper=function(){throw new Error(e)},window.AlgoliaExplainResults=function(){throw new Error(e)}}t.exports=n},{}],5:[function(e){"use strict";function t(t){var n=e(2),r=e(3),o=e(4);n(t)?r(t):o()}t("algoliasearch")},{2:2,3:3,4:4}]},{},[5])(5)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.algoliasearch=e()}}(function(){var e;return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n||e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){(function(r){function o(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r),e}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}}function c(){try{return n.storage.debug}catch(e){}if(void 0!==r&&"env"in r)return r.env.DEBUG}function l(){try{return window.localStorage}catch(e){}}n=t.exports=e(2),n.log=a,n.formatArgs=i,n.save=s,n.load=c,n.useColors=o,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},n.enable(c())}).call(this,e(12))},{12:12,2:2}],2:[function(e,t,n){function r(){return n.colors[u++%n.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,i=t-(l||t);e.diff=i,e.prev=l,e.curr=t,l=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var c=0;a[0]=a[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;c++;var o=n.formatters[r];if("function"==typeof o){var i=a[c];t=o.call(e,i),a.splice(c,1),c--}return t}),a=n.formatArgs.apply(e,a),(o.log||n.log||console.log.bind(console)).apply(e,a)}t.enabled=!1,o.enabled=!0;var i=n.enabled(e)?o:t;return i.namespace=e,i}function i(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,o=0;o<r;o++)t[o]&&(e=t[o].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function a(){n.enable("")}function s(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=o.debug=o,n.coerce=c,n.disable=a,n.enable=i,n.enabled=s,n.humanize=e(9),n.names=[],n.skips=[],n.formatters={};var l,u=0},{9:9}],3:[function(t,n,r){(function(o,i){!function(t,o){"object"==typeof r&&void 0!==n?n.exports=o():"function"==typeof e&&e.amd?e(o):t.ES6Promise=o()}(this,function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function n(e){return"function"==typeof e}function r(e){K=e}function a(e){G=e}function s(){return function(){return o.nextTick(f)}}function c(){return void 0!==$?function(){$(f)}:d()}function l(){var e=0,t=new Z(f),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function u(){var e=new MessageChannel;return e.port1.onmessage=f,function(){return e.port2.postMessage(0)}}function d(){var e=setTimeout;return function(){return e(f,1)}}function f(){for(var e=0;e<V;e+=2){(0,ne[e])(ne[e+1]),ne[e]=void 0,ne[e+1]=void 0}V=0}function p(){try{var e=t,n=e("vertx");return $=n.runOnLoop||n.runOnContext,c()}catch(e){return d()}}function m(e,t){var n=arguments,r=this,o=new this.constructor(g);void 0===o[oe]&&R(o);var i=r._state;return i?function(){var e=n[i-1];G(function(){return A(i,o,e,r._result)})}():L(r,o,e,t),o}function h(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(g);return T(n,e),n}function g(){}function y(){return new TypeError("You cannot resolve a promise with itself")}function v(){return new TypeError("A promises callback cannot return that same promise.")}function b(e){try{return e.then}catch(e){return ce.error=e,ce}}function w(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function _(e,t,n){G(function(e){var r=!1,o=w(n,t,function(n){r||(r=!0,t!==n?T(e,n):k(e,n))},function(t){r||(r=!0,S(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,S(e,o))},e)}function E(e,t){t._state===ae?k(e,t._result):t._state===se?S(e,t._result):L(t,void 0,function(t){return T(e,t)},function(t){return S(e,t)})}function x(e,t,r){t.constructor===e.constructor&&r===m&&t.constructor.resolve===h?E(e,t):r===ce?S(e,ce.error):void 0===r?k(e,t):n(r)?_(e,t,r):k(e,t)}function T(t,n){t===n?S(t,y()):e(n)?x(t,n,b(n)):k(t,n)}function I(e){e._onerror&&e._onerror(e._result),B(e)}function k(e,t){e._state===ie&&(e._result=t,e._state=ae,0!==e._subscribers.length&&G(B,e))}function S(e,t){e._state===ie&&(e._state=se,e._result=t,G(I,e))}function L(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+ae]=n,o[i+se]=r,0===i&&e._state&&G(B,e)}function B(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?A(n,r,o,i):o(i);e._subscribers.length=0}}function O(){this.error=null}function j(e,t){try{return e(t)}catch(e){return le.error=e,le}}function A(e,t,r,o){var i=n(r),a=void 0,s=void 0,c=void 0,l=void 0;if(i){if(a=j(r,o),a===le?(l=!0,s=a.error,a=null):c=!0,t===a)return void S(t,v())}else a=o,c=!0;t._state!==ie||(i&&c?T(t,a):l?S(t,s):e===ae?k(t,a):e===se&&S(t,a))}function C(e,t){try{t(function(t){T(e,t)},function(t){S(e,t)})}catch(t){S(e,t)}}function N(){return ue++}function R(e){e[oe]=ue++,e._state=void 0,e._result=void 0,e._subscribers=[]}function P(e,t){this._instanceConstructor=e,this.promise=new e(g),this.promise[oe]||R(this.promise),W(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?k(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&k(this.promise,this._result))):S(this.promise,H())}function H(){return new Error("Array Methods must be provided an Array")}function M(e){return new P(this,e).promise}function q(e){var t=this;return new t(W(e)?function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function D(e){var t=this,n=new t(g);return S(n,e),n}function U(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function F(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function z(e){this[oe]=N(),this._result=this._state=void 0,this._subscribers=[],g!==e&&("function"!=typeof e&&U(),this instanceof z?C(this,e):F())}function X(){var e=void 0;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=z}var J=void 0;J=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var W=J,V=0,$=void 0,K=void 0,G=function(e,t){ne[V]=e,ne[V+1]=t,2===(V+=2)&&(K?K(f):re())},Y="undefined"!=typeof window?window:void 0,Q=Y||{},Z=Q.MutationObserver||Q.WebKitMutationObserver,ee="undefined"==typeof self&&void 0!==o&&"[object process]"==={}.toString.call(o),te="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ne=new Array(1e3),re=void 0;re=ee?s():Z?l():te?u():void 0===Y&&"function"==typeof t?p():d();var oe=Math.random().toString(36).substring(16),ie=void 0,ae=1,se=2,ce=new O,le=new O,ue=0;return P.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===ie&&n<e;n++)this._eachEntry(t[n],n)},P.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===h){var o=b(e);if(o===m&&e._state!==ie)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===z){var i=new n(g);x(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},P.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===ie&&(this._remaining--,e===se?S(r,n):this._result[t]=n),0===this._remaining&&k(r,this._result)},P.prototype._willSettleAt=function(e,t){var n=this;L(e,void 0,function(e){return n._settledAt(ae,t,e)},function(e){return n._settledAt(se,t,e)})},z.all=M,z.race=q,z.resolve=h,z.reject=D,z._setScheduler=r,z._setAsap=a,z._asap=G,z.prototype={constructor:z,then:m,"catch":function(e){return this.then(null,e)}},z.polyfill=X,z.Promise=z,z})}).call(this,t(12),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{12:12}],4:[function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,s,c,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),l=n.slice(),o=l.length,c=0;c<o;c++)l[c].apply(this,s);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var o=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],5:[function(e,t){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString;t.exports=function(e,t,o){if("[object Function]"!==r.call(t))throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var a=0;a<i;a++)t.call(o,e[a],a,e);else for(var s in e)n.call(e,s)&&t.call(o,e[s],s,e)}},{}],6:[function(e,t){(function(e){"undefined"!=typeof window?t.exports=window:void 0!==e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],8:[function(e,t){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],9:[function(e,t){function n(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*u;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(e){return e>=l?Math.round(e/l)+"d":e>=c?Math.round(e/c)+"h":e>=s?Math.round(e/s)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return i(e,l,"day")||i(e,c,"hour")||i(e,s,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,s=60*a,c=60*s,l=24*c,u=365.25*l;t.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&e.length>0)return n(e);if("number"===i&&!1===isNaN(e))return t["long"]?o(e):r(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],10:[function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=Array.prototype.slice,i=e(11),a=Object.prototype.propertyIsEnumerable,s=!a.call({toString:null},"toString"),c=a.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(e){var t=e.constructor;return t&&t.prototype===e},d={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&n.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{u(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),p=function(e){if("undefined"==typeof window||!f)return u(e);try{return u(e)}catch(e){return!1}},m=function(e){var t=null!==e&&"object"==typeof e,o="[object Function]"===r.call(e),a=i(e),u=t&&"[object String]"===r.call(e),d=[]
;if(!t&&!o&&!a)throw new TypeError("Object.keys called on a non-object");var f=c&&o;if(u&&e.length>0&&!n.call(e,0))for(var m=0;m<e.length;++m)d.push(String(m));if(a&&e.length>0)for(var h=0;h<e.length;++h)d.push(String(h));else for(var g in e)f&&"prototype"===g||!n.call(e,g)||d.push(String(g));if(s)for(var y=p(e),v=0;v<l.length;++v)y&&"constructor"===l[v]||!n.call(e,l[v])||d.push(l[v]);return d};m.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var e=Object.keys;Object.keys=function(t){return e(i(t)?o.call(t):t)}}}else Object.keys=m;return Object.keys||m},t.exports=m},{11:11}],11:[function(e,t){"use strict";var n=Object.prototype.toString;t.exports=function(e){var t=n.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),r}},{}],12:[function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){h&&p&&(h=!1,p.length?m=p.concat(m):g=-1,m.length&&s())}function s(){if(!h){var e=o(a);h=!0;for(var t=m.length;t;){for(p=m,m=[];++g<t;)p&&p[g].run();g=-1,t=m.length}p=null,h=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var u,d,f=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var p,m=[],h=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new c(e,t)),1!==m.length||h||o(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.binding=function(){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],13:[function(e,t){"use strict";function n(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,a,s){return t=t||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?n(i(e),function(i){var s=encodeURIComponent(r(i))+a;return o(e[i])?n(e[i],function(e){return s+encodeURIComponent(r(e))}).join(t):s+encodeURIComponent(r(e[i]))}).join(t):s?encodeURIComponent(r(s))+a+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],14:[function(e,t){function n(){s.apply(this,arguments)}function r(){throw new l.AlgoliaSearchError("Not implemented in this environment.\nIf you feel this is a mistake, write to support@algolia.com")}t.exports=n;var o=e(16),i=e(26),a=e(27),s=e(15),c=e(7),l=e(28);c(n,s),n.prototype.deleteIndex=function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(e),hostType:"write",callback:t})},n.prototype.moveIndex=function(e,t,n){var r={operation:"move",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:r,hostType:"write",callback:n})},n.prototype.copyIndex=function(e,t,n){var r={operation:"copy",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:r,hostType:"write",callback:n})},n.prototype.getLogs=function(t,n,r){var o=e(25),i={};return"object"==typeof t?(i=o(t),r=n):0===arguments.length||"function"==typeof t?r=t:1===arguments.length||"function"==typeof n?(r=n,i.offset=t):(i.offset=t,i.length=n),void 0===i.offset&&(i.offset=0),void 0===i.length&&(i.length=10),this._jsonRequest({method:"GET",url:"/1/logs?"+this._getSearchParams(i,""),hostType:"read",callback:r})},n.prototype.listIndexes=function(e,t){var n="";return void 0===e||"function"==typeof e?t=e:n="?page="+e,this._jsonRequest({method:"GET",url:"/1/indexes"+n,hostType:"read",callback:t})},n.prototype.initIndex=function(e){return new o(this,e)},n.prototype.listUserKeys=function(e){return this._jsonRequest({method:"GET",url:"/1/keys",hostType:"read",callback:e})},n.prototype.getUserKeyACL=function(e,t){return this._jsonRequest({method:"GET",url:"/1/keys/"+e,hostType:"read",callback:t})},n.prototype.deleteUserKey=function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/keys/"+e,hostType:"write",callback:t})},n.prototype.addUserKey=function(t,n,r){if(!e(8)(t))throw new Error("Usage: client.addUserKey(arrayOfAcls[, params, callback])");1!==arguments.length&&"function"!=typeof n||(r=n,n=null);var o={acl:t};return n&&(o.validity=n.validity,o.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,o.maxHitsPerQuery=n.maxHitsPerQuery,o.indexes=n.indexes,o.description=n.description,n.queryParameters&&(o.queryParameters=this._getSearchParams(n.queryParameters,"")),o.referers=n.referers),this._jsonRequest({method:"POST",url:"/1/keys",body:o,hostType:"write",callback:r})},n.prototype.addUserKeyWithValidity=i(function(e,t,n){return this.addUserKey(e,t,n)},a("client.addUserKeyWithValidity()","client.addUserKey()")),n.prototype.updateUserKey=function(t,n,r,o){if(!e(8)(n))throw new Error("Usage: client.updateUserKey(key, arrayOfAcls[, params, callback])");2!==arguments.length&&"function"!=typeof r||(o=r,r=null);var i={acl:n};return r&&(i.validity=r.validity,i.maxQueriesPerIPPerHour=r.maxQueriesPerIPPerHour,i.maxHitsPerQuery=r.maxHitsPerQuery,i.indexes=r.indexes,i.description=r.description,r.queryParameters&&(i.queryParameters=this._getSearchParams(r.queryParameters,"")),i.referers=r.referers),this._jsonRequest({method:"PUT",url:"/1/keys/"+t,body:i,hostType:"write",callback:o})},n.prototype.startQueriesBatch=i(function(){this._batch=[]},a("client.startQueriesBatch()","client.search()")),n.prototype.addQueryInBatch=i(function(e,t,n){this._batch.push({indexName:e,query:t,params:n})},a("client.addQueryInBatch()","client.search()")),n.prototype.sendQueriesBatch=i(function(e){return this.search(this._batch,e)},a("client.sendQueriesBatch()","client.search()")),n.prototype.batch=function(t,n){if(!e(8)(t))throw new Error("Usage: client.batch(operations[, callback])");return this._jsonRequest({method:"POST",url:"/1/indexes/*/batch",body:{requests:t},hostType:"write",callback:n})},n.prototype.destroy=r,n.prototype.enableRateLimitForward=r,n.prototype.disableRateLimitForward=r,n.prototype.useSecuredAPIKey=r,n.prototype.disableSecuredAPIKey=r,n.prototype.generateSecuredApiKey=r},{15:15,16:16,25:25,26:26,27:27,28:28,7:7,8:8}],15:[function(e,t){(function(n){function r(t,n,r){var i=e(1)("algoliasearch"),a=e(25),s=e(8),l=e(30),u="Usage: algoliasearch(applicationID, apiKey, opts)";if(!0!==r._allowEmptyCredentials&&!t)throw new c.AlgoliaSearchError("Please provide an application ID. "+u);if(!0!==r._allowEmptyCredentials&&!n)throw new c.AlgoliaSearchError("Please provide an API key. "+u);this.applicationID=t,this.apiKey=n,this.hosts={read:[],write:[]},r=r||{};var d=r.protocol||"https:";if(this._timeouts=r.timeouts||{connect:1e3,read:2e3,write:3e4},r.timeout&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=r.timeout),/:$/.test(d)||(d+=":"),"http:"!==r.protocol&&"https:"!==r.protocol)throw new c.AlgoliaSearchError("protocol must be `http:` or `https:` (was `"+r.protocol+"`)");if(this._checkAppIdData(),r.hosts)s(r.hosts)?(this.hosts.read=a(r.hosts),this.hosts.write=a(r.hosts)):(this.hosts.read=a(r.hosts.read),this.hosts.write=a(r.hosts.write));else{var f=l(this._shuffleResult,function(e){return t+"-"+e+".algolianet.com"});this.hosts.read=[this.applicationID+"-dsn.algolia.net"].concat(f),this.hosts.write=[this.applicationID+".algolia.net"].concat(f)}this.hosts.read=l(this.hosts.read,o(d)),this.hosts.write=l(this.hosts.write,o(d)),this.extraHeaders=[],this.cache=r._cache||{},this._ua=r._ua,this._useCache=!(void 0!==r._useCache&&!r._cache)||r._useCache,this._useFallback=void 0===r.useFallback||r.useFallback,this._setTimeout=r._setTimeout,i("init done, %j",this)}function o(e){return function(t){return e+"//"+t.toLowerCase()}}function i(e){if(void 0===Array.prototype.toJSON)return JSON.stringify(e);var t=Array.prototype.toJSON;delete Array.prototype.toJSON;var n=JSON.stringify(e);return Array.prototype.toJSON=t,n}function a(e){for(var t,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),r-=1,t=e[r],e[r]=e[n],e[n]=t;return e}function s(e){var t={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r;r="x-algolia-api-key"===n||"x-algolia-application-id"===n?"**hidden for security purposes**":e[n],t[n]=r}return t}t.exports=r;var c=e(28),l=e(29),u=e(18),d=e(34),f=n.env.RESET_APP_DATA_TIMER&&parseInt(n.env.RESET_APP_DATA_TIMER,10)||12e4;r.prototype.initIndex=function(e){return new u(this,e)},r.prototype.setExtraHeader=function(e,t){this.extraHeaders.push({name:e.toLowerCase(),value:t})},r.prototype.addAlgoliaAgent=function(e){-1===this._ua.indexOf(";"+e)&&(this._ua+=";"+e)},r.prototype._jsonRequest=function(t){function n(e,l){function g(e){var t=e&&e.body&&e.body.message&&e.body.status||e.statusCode||e&&e.body&&200;a("received response: statusCode: %s, computed statusCode: %d, headers: %j",e.statusCode,t,e.headers);var n=2===Math.floor(t/100),i=new Date;if(h.push({currentHost:E,headers:s(o),content:r||null,contentLength:void 0!==r?r.length:null,method:l.method,timeouts:l.timeouts,url:l.url,startTime:_,endTime:i,duration:i-_,statusCode:t}),n)return d._useCache&&u&&(u[w]=e.responseText),e.body;if(4!==Math.floor(t/100))return f+=1,v();a("unrecoverable error");var p=new c.AlgoliaSearchError(e.body&&e.body.message,{debugData:h,statusCode:t});return d._promise.reject(p)}function y(e){a("error: %s, stack: %s",e.message,e.stack);var n=new Date;return h.push({currentHost:E,headers:s(o),content:r||null,contentLength:void 0!==r?r.length:null,method:l.method,timeouts:l.timeouts,url:l.url,startTime:_,endTime:n,duration:n-_}),e instanceof c.AlgoliaSearchError||(e=new c.Unknown(e&&e.message,e)),f+=1,e instanceof c.Unknown||e instanceof c.UnparsableJSON||f>=d.hosts[t.hostType].length&&(p||!m)?(e.debugData=h,d._promise.reject(e)):e instanceof c.RequestTimeout?b():v()}function v(){return a("retrying request"),d._incrementHostIndex(t.hostType),n(e,l)}function b(){return a("retrying request with higher timeout"),d._incrementHostIndex(t.hostType),d._incrementTimeoutMultipler(),l.timeouts=d._getTimeoutsForRequest(t.hostType),n(e,l)}d._checkAppIdData();var w,_=new Date;if(d._useCache&&(w=t.url),d._useCache&&r&&(w+="_body_"+l.body),d._useCache&&u&&void 0!==u[w])return a("serving response from cache"),d._promise.resolve(JSON.parse(u[w]));if(f>=d.hosts[t.hostType].length)return!m||p?(a("could not get any response"),d._promise.reject(new c.AlgoliaSearchError("Cannot connect to the AlgoliaSearch API. Send an email to support@algolia.com to report and resolve the issue. Application id was: "+d.applicationID,{debugData:h}))):(a("switching to fallback"),f=0,l.method=t.fallback.method,l.url=t.fallback.url,l.jsonBody=t.fallback.body,l.jsonBody&&(l.body=i(l.jsonBody)),o=d._computeRequestHeaders(),l.timeouts=d._getTimeoutsForRequest(t.hostType),d._setHostIndexByType(0,t.hostType),p=!0,n(d._request.fallback,l));var E=d._getHostByType(t.hostType),x=E+l.url,T={body:l.body,jsonBody:l.jsonBody,method:l.method,headers:o,timeouts:l.timeouts,debug:a};return a("method: %s, url: %s, headers: %j, timeouts: %d",T.method,x,T.headers,T.timeouts),e===d._request.fallback&&a("using fallback"),e.call(d,x,T).then(g,y)}this._checkAppIdData();var r,o,a=e(1)("algoliasearch:"+t.url),u=t.cache,d=this,f=0,p=!1,m=d._useFallback&&d._request.fallback&&t.fallback;this.apiKey.length>500&&void 0!==t.body&&(void 0!==t.body.params||void 0!==t.body.requests)?(t.body.apiKey=this.apiKey,o=this._computeRequestHeaders(!1)):o=this._computeRequestHeaders(),void 0!==t.body&&(r=i(t.body)),a("request start");var h=[],g=n(d._request,{url:t.url,method:t.method,body:r,jsonBody:t.body,timeouts:d._getTimeoutsForRequest(t.hostType)});return t.callback?void g.then(function(e){l(function(){t.callback(null,e)},d._setTimeout||setTimeout)},function(e){l(function(){t.callback(e)},d._setTimeout||setTimeout)}):g},r.prototype._getSearchParams=function(e,t){if(void 0===e||null===e)return t;for(var n in e)null!==n&&void 0!==e[n]&&e.hasOwnProperty(n)&&(t+=""===t?"":"&",t+=n+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(e[n])?i(e[n]):e[n]));return t},r.prototype._computeRequestHeaders=function(t){var n=e(5),r={"x-algolia-agent":this._ua,"x-algolia-application-id":this.applicationID};return!1!==t&&(r["x-algolia-api-key"]=this.apiKey),this.userToken&&(r["x-algolia-usertoken"]=this.userToken),this.securityTags&&(r["x-algolia-tagfilters"]=this.securityTags),this.extraHeaders&&n(this.extraHeaders,function(e){r[e.name]=e.value}),r},r.prototype.search=function(t,n,r){var o=e(8),i=e(30);if(!o(t))throw new Error("Usage: client.search(arrayOfQueries[, callback])");"function"==typeof n?(r=n,n={}):void 0===n&&(n={});var a=this,s={requests:i(t,function(e){var t="";return void 0!==e.query&&(t+="query="+encodeURIComponent(e.query)),{indexName:e.indexName,params:a._getSearchParams(e.params,t)}})},c=i(s.requests,function(e,t){return t+"="+encodeURIComponent("/1/indexes/"+encodeURIComponent(e.indexName)+"?"+e.params)}).join("&"),l="/1/indexes/*/queries";return void 0!==n.strategy&&(l+="?strategy="+n.strategy),this._jsonRequest({cache:this.cache,method:"POST",url:l,body:s,hostType:"read",fallback:{method:"GET",url:"/1/indexes/*",body:{params:c}},callback:r})},r.prototype.setSecurityTags=function(e){if("[object Array]"===Object.prototype.toString.call(e)){for(var t=[],n=0;n<e.length;++n)if("[object Array]"===Object.prototype.toString.call(e[n])){for(var r=[],o=0;o<e[n].length;++o)r.push(e[n][o]);t.push("("+r.join(",")+")")}else t.push(e[n]);e=t.join(",")}this.securityTags=e},r.prototype.setUserToken=function(e){this.userToken=e},r.prototype.clearCache=function(){this.cache={}},r.prototype.setRequestTimeout=function(e){e&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=e)},r.prototype.setTimeouts=function(e){this._timeouts=e},r.prototype.getTimeouts=function(){return this._timeouts},r.prototype._getAppIdData=function(){var e=d.get(this.applicationID);return null!==e&&this._cacheAppIdData(e),e},r.prototype._setAppIdData=function(e){return e.lastChange=(new Date).getTime(),this._cacheAppIdData(e),d.set(this.applicationID,e)},r.prototype._checkAppIdData=function(){var e=this._getAppIdData(),t=(new Date).getTime();return null===e||t-e.lastChange>f?this._resetInitialAppIdData(e):e},r.prototype._resetInitialAppIdData=function(e){var t=e||{};return t.hostIndexes={read:0,write:0},t.timeoutMultiplier=1,t.shuffleResult=t.shuffleResult||a([1,2,3]),this._setAppIdData(t)},r.prototype._cacheAppIdData=function(e){this._hostIndexes=e.hostIndexes,this._timeoutMultiplier=e.timeoutMultiplier,this._shuffleResult=e.shuffleResult},r.prototype._partialAppIdDataUpdate=function(t){var n=e(5),r=this._getAppIdData();return n(t,function(e,t){r[t]=e}),this._setAppIdData(r)},r.prototype._getHostByType=function(e){return this.hosts[e][this._getHostIndexByType(e)]},r.prototype._getTimeoutMultiplier=function(){return this._timeoutMultiplier},r.prototype._getHostIndexByType=function(e){return this._hostIndexes[e]},r.prototype._setHostIndexByType=function(t,n){var r=e(25),o=r(this._hostIndexes);return o[n]=t,this._partialAppIdDataUpdate({hostIndexes:o}),t},r.prototype._incrementHostIndex=function(e){return this._setHostIndexByType((this._getHostIndexByType(e)+1)%this.hosts[e].length,e)},r.prototype._incrementTimeoutMultipler=function(){var e=Math.max(this._timeoutMultiplier+1,4);return this._partialAppIdDataUpdate({timeoutMultiplier:e})},r.prototype._getTimeoutsForRequest=function(e){return{connect:this._timeouts.connect*this._timeoutMultiplier,complete:this._timeouts[e]*this._timeoutMultiplier}}}).call(this,e(12))},{1:1,12:12,18:18,25:25,28:28,29:29,30:30,34:34,5:5,8:8}],16:[function(e,t){function n(){o.apply(this,arguments)}var r=e(7),o=e(18),i=e(26),a=e(27),s=e(29),c=e(28);t.exports=n,r(n,o),n.prototype.addObject=function(e,t,n){var r=this;return 1!==arguments.length&&"function"!=typeof t||(n=t,t=void 0),this.as._jsonRequest({method:void 0!==t?"PUT":"POST",url:"/1/indexes/"+encodeURIComponent(r.indexName)+(void 0!==t?"/"+encodeURIComponent(t):""),body:e,hostType:"write",callback:n})},n.prototype.addObjects=function(t,n){if(!e(8)(t))throw new Error("Usage: index.addObjects(arrayOfObjects[, callback])");for(var r=this,o={requests:[]},i=0;i<t.length;++i){var a={action:"addObject",body:t[i]};o.requests.push(a)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/batch",body:o,hostType:"write",callback:n})},n.prototype.partialUpdateObject=function(e,t,n){1!==arguments.length&&"function"!=typeof t||(n=t,t=void 0);var r=this,o="/1/indexes/"+encodeURIComponent(r.indexName)+"/"+encodeURIComponent(e.objectID)+"/partial";return!1===t&&(o+="?createIfNotExists=false"),this.as._jsonRequest({method:"POST",url:o,body:e,hostType:"write",callback:n})},n.prototype.partialUpdateObjects=function(t,n){if(!e(8)(t))throw new Error("Usage: index.partialUpdateObjects(arrayOfObjects[, callback])");for(var r=this,o={requests:[]},i=0;i<t.length;++i){var a={action:"partialUpdateObject",objectID:t[i].objectID,body:t[i]};o.requests.push(a)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/batch",body:o,hostType:"write",callback:n})},n.prototype.saveObject=function(e,t){var n=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e.objectID),body:e,hostType:"write",callback:t})},n.prototype.saveObjects=function(t,n){if(!e(8)(t))throw new Error("Usage: index.saveObjects(arrayOfObjects[, callback])");for(var r=this,o={requests:[]},i=0;i<t.length;++i){var a={action:"updateObject",objectID:t[i].objectID,body:t[i]};o.requests.push(a)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/batch",body:o,hostType:"write",callback:n})},n.prototype.deleteObject=function(e,t){if("function"==typeof e||"string"!=typeof e&&"number"!=typeof e){var n=new c.AlgoliaSearchError("Cannot delete an object without an objectID");return t=e,"function"==typeof t?t(n):this.as._promise.reject(n)}var r=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/"+encodeURIComponent(e),hostType:"write",callback:t})},n.prototype.deleteObjects=function(t,n){var r=e(8),o=e(30);if(!r(t))throw new Error("Usage: index.deleteObjects(arrayOfObjectIDs[, callback])");var i=this,a={requests:o(t,function(e){return{action:"deleteObject",objectID:e,body:{objectID:e}}})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/batch",body:a,hostType:"write",callback:n})},n.prototype.deleteByQuery=function(t,n,r){function o(e){if(0===e.nbHits)return e;var t=d(e.hits,function(e){return e.objectID});return f.deleteObjects(t).then(i).then(a)}function i(e){return f.waitTask(e.taskID)}function a(){return f.deleteByQuery(t,n)}function c(){s(function(){r(null)},p._setTimeout||setTimeout)}function l(e){s(function(){r(e)},p._setTimeout||setTimeout)}var u=e(25),d=e(30),f=this,p=f.as;1===arguments.length||"function"==typeof n?(r=n,n={}):n=u(n),n.attributesToRetrieve="objectID",n.hitsPerPage=1e3,n.distinct=!1,this.clearCache();var m=this.search(t,n).then(o);return r?void m.then(c,l):m},n.prototype.browseAll=function(t,n){function r(e){if(!s._stopped){var t;t=void 0!==e?"cursor="+encodeURIComponent(e):u,c._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(l.indexName)+"/browse?"+t,hostType:"read",callback:o})}}function o(e,t){if(!s._stopped)return e?void s._error(e):(s._result(t),void 0===t.cursor?void s._end():void r(t.cursor))}"object"==typeof t&&(n=t,t=void 0);var i=e(31),a=e(17),s=new a,c=this.as,l=this,u=c._getSearchParams(i({},n||{},{query:t}),"");return r(),s},n.prototype.ttAdapter=function(e){var t=this;return function(n,r,o){var i;i="function"==typeof o?o:r,t.search(n,e,function(e,t){return e?void i(e):void i(t.hits)})}},n.prototype.waitTask=function(e,t){function n(){return u._jsonRequest({method:"GET",hostType:"read",url:"/1/indexes/"+encodeURIComponent(l.indexName)+"/task/"+e}).then(function(e){c++;var t=i*c*c;return t>a&&(t=a),"published"!==e.status?u._promise.delay(t).then(n):e})}function r(e){s(function(){t(null,e)},u._setTimeout||setTimeout)}function o(e){s(function(){t(e)},u._setTimeout||setTimeout)}var i=100,a=5e3,c=0,l=this,u=l.as,d=n();return t?void d.then(r,o):d},n.prototype.clearIndex=function(e){var t=this;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/clear",hostType:"write",callback:e})},n.prototype.getSettings=function(e){var t=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/settings?getVersion=2",hostType:"read",callback:e})},n.prototype.searchSynonyms=function(e,t){return"function"==typeof e?(t=e,e={}):void 0===e&&(e={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/search",body:e,hostType:"read",callback:t})},n.prototype.saveSynonym=function(e,t,n){return"function"==typeof t?(n=t,t={}):void 0===t&&(t={}),this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e.objectID)+"?forwardToSlaves="+(t.forwardToSlaves?"true":"false"),body:e,hostType:"write",callback:n})},n.prototype.getSynonym=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e),hostType:"read",callback:t})},n.prototype.deleteSynonym=function(e,t,n){return"function"==typeof t?(n=t,t={}):void 0===t&&(t={}),this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e)+"?forwardToSlaves="+(t.forwardToSlaves?"true":"false"),hostType:"write",callback:n})},n.prototype.clearSynonyms=function(e,t){return"function"==typeof e?(t=e,e={}):void 0===e&&(e={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/clear?forwardToSlaves="+(e.forwardToSlaves?"true":"false"),hostType:"write",callback:t})},n.prototype.batchSynonyms=function(e,t,n){return"function"==typeof t?(n=t,t={}):void 0===t&&(t={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/batch?forwardToSlaves="+(t.forwardToSlaves?"true":"false")+"&replaceExistingSynonyms="+(t.replaceExistingSynonyms?"true":"false"),hostType:"write",body:e,callback:n})},n.prototype.setSettings=function(e,t,n){1!==arguments.length&&"function"!=typeof t||(n=t,t={});var r=t.forwardToSlaves||!1,o=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(o.indexName)+"/settings?forwardToSlaves="+(r?"true":"false"),hostType:"write",body:e,callback:n})},n.prototype.listUserKeys=function(e){var t=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/keys",hostType:"read",callback:e})},n.prototype.getUserKeyACL=function(e,t){var n=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/keys/"+e,hostType:"read",callback:t})},n.prototype.deleteUserKey=function(e,t){var n=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/keys/"+e,hostType:"write",callback:t})},n.prototype.addUserKey=function(t,n,r){if(!e(8)(t))throw new Error("Usage: index.addUserKey(arrayOfAcls[, params, callback])");1!==arguments.length&&"function"!=typeof n||(r=n,n=null);var o={acl:t};return n&&(o.validity=n.validity,o.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,o.maxHitsPerQuery=n.maxHitsPerQuery,o.description=n.description,n.queryParameters&&(o.queryParameters=this.as._getSearchParams(n.queryParameters,"")),o.referers=n.referers),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys",body:o,hostType:"write",callback:r})},n.prototype.addUserKeyWithValidity=i(function(e,t,n){return this.addUserKey(e,t,n)},a("index.addUserKeyWithValidity()","index.addUserKey()")),n.prototype.updateUserKey=function(t,n,r,o){if(!e(8)(n))throw new Error("Usage: index.updateUserKey(key, arrayOfAcls[, params, callback])");2!==arguments.length&&"function"!=typeof r||(o=r,r=null);var i={acl:n};return r&&(i.validity=r.validity,i.maxQueriesPerIPPerHour=r.maxQueriesPerIPPerHour,i.maxHitsPerQuery=r.maxHitsPerQuery,i.description=r.description,r.queryParameters&&(i.queryParameters=this.as._getSearchParams(r.queryParameters,"")),i.referers=r.referers),this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+t,body:i,hostType:"write",callback:o})}},{17:17,18:18,25:25,26:26,27:27,28:28,29:29,30:30,31:31,7:7,8:8}],17:[function(e,t){"use strict";function n(){}t.exports=n,e(7)(n,e(4).EventEmitter),n.prototype.stop=function(){this._stopped=!0,this._clean()},n.prototype._end=function(){this.emit("end"),this._clean()},n.prototype._error=function(e){this.emit("error",e),this._clean()},n.prototype._result=function(e){this.emit("result",e)},n.prototype._clean=function(){this.removeAllListeners("stop"),this.removeAllListeners("end"),this.removeAllListeners("error"),this.removeAllListeners("result")}},{4:4,7:7}],18:[function(e,t){function n(e,t){this.indexName=t,this.as=e,this.typeAheadArgs=null,this.typeAheadValueOption=null,this.cache={}}var r=e(24),o=e(26),i=e(27);t.exports=n,n.prototype.clearCache=function(){this.cache={}},n.prototype.search=r("query"),n.prototype.similarSearch=r("similarQuery"),n.prototype.browse=function(t,n,r){var o,i,a=e(31),s=this;0===arguments.length||1===arguments.length&&"function"==typeof arguments[0]?(o=0,r=arguments[0],t=void 0):"number"==typeof arguments[0]?(o=arguments[0],"number"==typeof arguments[1]?i=arguments[1]:"function"==typeof arguments[1]&&(r=arguments[1],i=void 0),t=void 0,n=void 0):"object"==typeof arguments[0]?("function"==typeof arguments[1]&&(r=arguments[1]),n=arguments[0],t=void 0):"string"==typeof arguments[0]&&"function"==typeof arguments[1]&&(r=arguments[1],n=void 0),n=a({},n||{},{page:o,hitsPerPage:i,query:t});var c=this.as._getSearchParams(n,"");return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(s.indexName)+"/browse?"+c,hostType:"read",callback:r})},n.prototype.browseFrom=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/browse?cursor="+encodeURIComponent(e),hostType:"read",callback:t})},n.prototype.searchForFacetValues=function(t,n){var r=e(25),o=e(32);if(void 0===t.facetName||void 0===t.facetQuery)throw new Error("Usage: index.searchForFacetValues({facetName, facetQuery, ...params}[, callback])");var i=t.facetName,a=o(r(t),function(e){return"facetName"===e}),s=this.as._getSearchParams(a,"");return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/facets/"+encodeURIComponent(i)+"/query",hostType:"read",body:{params:s},callback:n})},n.prototype.searchFacet=o(function(e,t){return this.searchForFacetValues(e,t)},i("index.searchFacet(params[, callback])","index.searchForFacetValues(params[, callback])")),n.prototype._search=function(e,t,n){return this.as._jsonRequest({cache:this.cache,method:"POST",url:t||"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:{params:e},hostType:"read",fallback:{method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName),body:{params:e}},callback:n})},n.prototype.getObject=function(e,t,n){var r=this;1!==arguments.length&&"function"!=typeof t||(n=t,t=void 0);var o="";if(void 0!==t){o="?attributes=";for(var i=0;i<t.length;++i)0!==i&&(o+=","),o+=t[i]}return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/"+encodeURIComponent(e)+o,hostType:"read",callback:n})},n.prototype.getObjects=function(t,n,r){var o=e(8),i=e(30);if(!o(t))throw new Error("Usage: index.getObjects(arrayOfObjectIDs[, callback])");var a=this;1!==arguments.length&&"function"!=typeof n||(r=n,n=void 0);var s={requests:i(t,function(e){var t={indexName:a.indexName,objectID:e};return n&&(t.attributesToRetrieve=n.join(",")),t})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/*/objects",hostType:"read",body:s,callback:r})},n.prototype.as=null,n.prototype.indexName=null,n.prototype.typeAheadArgs=null,n.prototype.typeAheadValueOption=null},{24:24,25:25,26:26,27:27,30:30,31:31,32:32,8:8}],19:[function(e,t){"use strict";var n=e(14),r=e(20);t.exports=r(n)},{14:14,20:20}],20:[function(e,t){(function(n){"use strict";var r=e(6),o=r.Promise||e(3).Promise;t.exports=function(t,i){function a(t,n,r){var o=e(25),i=e(21);return r=o(r||{}),void 0===r.protocol&&(r.protocol=i()),r._ua=r._ua||a.ua,new s(t,n,r)}function s(){t.apply(this,arguments)}var c=e(7),l=e(28),u=e(22),d=e(23),f=e(33);i=i||"","debug"===n.env.NODE_ENV&&e(1).enable("algoliasearch*"),a.version=e(35),a.ua="Algolia for vanilla JavaScript "+i+a.version,a.initPlaces=f(a),r.__algolia={debug:e(1),algoliasearch:a};var p={hasXMLHttpRequest:"XMLHttpRequest"in r,hasXDomainRequest:"XDomainRequest"in r};return p.hasXMLHttpRequest&&(p.cors="withCredentials"in new XMLHttpRequest),c(s,t),s.prototype._request=function(e,t){return new o(function(n,r){function o(){if(!m){clearTimeout(f);var e;try{e={body:JSON.parse(g.responseText),responseText:g.responseText,statusCode:g.status,headers:g.getAllResponseHeaders&&g.getAllResponseHeaders()||{}}}catch(t){e=new l.UnparsableJSON({more:g.responseText})}e instanceof l.UnparsableJSON?r(e):n(e)}}function i(e){m||(clearTimeout(f),r(new l.Network({more:e})))}function a(){m=!0,g.abort(),r(new l.RequestTimeout)}function s(){y=!0,clearTimeout(f),f=setTimeout(a,t.timeouts.complete)}function c(){y||s()}function d(){!y&&g.readyState>1&&s()}if(!p.cors&&!p.hasXDomainRequest)return void r(new l.Network("CORS not supported"));e=u(e,t.headers);var f,m,h=t.body,g=p.cors?new XMLHttpRequest:new XDomainRequest,y=!1;f=setTimeout(a,t.timeouts.connect),g.onprogress=c,"onreadystatechange"in g&&(g.onreadystatechange=d),g.onload=o,g.onerror=i,g instanceof XMLHttpRequest?g.open(t.method,e,!0):g.open(t.method,e),p.cors&&(h&&("POST"===t.method?g.setRequestHeader("content-type","application/x-www-form-urlencoded"):g.setRequestHeader("content-type","application/json")),g.setRequestHeader("accept","application/json")),g.send(h)})},s.prototype._request.fallback=function(e,t){return e=u(e,t.headers),new o(function(n,r){d(e,t,function(e,t){return e?void r(e):void n(t)})})},s.prototype._promise={reject:function(e){return o.reject(e)},resolve:function(e){return o.resolve(e)},delay:function(e){return new o(function(t){setTimeout(t,e)})}},a}}).call(this,e(12))},{1:1,12:12,21:21,22:22,23:23,25:25,28:28,3:3,33:33,35:35,6:6,7:7}],21:[function(e,t){"use strict";function n(){var e=window.document.location.protocol;return"http:"!==e&&"https:"!==e&&(e="http:"),e}t.exports=n},{}],22:[function(e,t){"use strict";function n(e,t){return(e+=/\?/.test(e)?"&":"?")+r(t)}t.exports=n;var r=e(13)},{13:13}],23:[function(e,t){"use strict";function n(e,t,n){function i(){t.debug("JSONP: success"),g||f||(g=!0,d||(t.debug("JSONP: Fail. Script loaded but did not call the callback"),s(),n(new r.JSONPScriptFail)))}function a(){"loaded"!==this.readyState&&"complete"!==this.readyState||i()}function s(){clearTimeout(y),m.onload=null,m.onreadystatechange=null,m.onerror=null,p.removeChild(m)}function c(){try{delete window[h],delete window[h+"_loaded"]}catch(e){window[h]=window[h+"_loaded"]=void 0}}function l(){t.debug("JSONP: Script timeout"),f=!0,s(),n(new r.RequestTimeout)}function u(){t.debug("JSONP: Script error"),g||f||(s(),n(new r.JSONPScriptError))}
if("GET"!==t.method)return void n(new Error("Method "+t.method+" "+e+" is not supported by JSONP."));t.debug("JSONP: start");var d=!1,f=!1;o+=1;var p=document.getElementsByTagName("head")[0],m=document.createElement("script"),h="algoliaJSONP_"+o,g=!1;window[h]=function(e){return c(),f?void t.debug("JSONP: Late answer, ignoring"):(d=!0,s(),void n(null,{body:e}))},e+="&callback="+h,t.jsonBody&&t.jsonBody.params&&(e+="&"+t.jsonBody.params);var y=setTimeout(l,t.timeouts.complete);m.onreadystatechange=a,m.onload=i,m.onerror=u,m.async=!0,m.defer=!0,m.src=e,p.appendChild(m)}t.exports=n;var r=e(28),o=0},{28:28}],24:[function(e,t){function n(e,t){return function(n,o,i){if("function"==typeof n&&"object"==typeof o||"object"==typeof i)throw new r.AlgoliaSearchError("index.search usage is index.search(query, params, cb)");0===arguments.length||"function"==typeof n?(i=n,n=""):1!==arguments.length&&"function"!=typeof o||(i=o,o=void 0),"object"==typeof n&&null!==n?(o=n,n=void 0):void 0!==n&&null!==n||(n="");var a="";return void 0!==n&&(a+=e+"="+encodeURIComponent(n)),void 0!==o&&(a=this.as._getSearchParams(o,a)),this._search(a,t,i)}}t.exports=n;var r=e(28)},{28:28}],25:[function(e,t){t.exports=function(e){return JSON.parse(JSON.stringify(e))}},{}],26:[function(e,t){t.exports=function(e,t){function n(){return r||(console.log(t),r=!0),e.apply(this,arguments)}var r=!1;return n}},{}],27:[function(e,t){t.exports=function(e,t){return"algoliasearch: `"+e+"` was replaced by `"+t+"`. Please see https://github.com/algolia/algoliasearch-client-js/wiki/Deprecated#"+e.toLowerCase().replace(".","").replace("()","")}},{}],28:[function(e,t){"use strict";function n(t,n){var r=e(5),o=this;"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):o.stack=(new Error).stack||"Cannot get a stacktrace, browser is too old",this.name="AlgoliaSearchError",this.message=t||"Unknown error",n&&r(n,function(e,t){o[t]=e})}function r(e,t){function r(){var r=Array.prototype.slice.call(arguments,0);"string"!=typeof r[0]&&r.unshift(t),n.apply(this,r),this.name="AlgoliaSearch"+e+"Error"}return o(r,n),r}var o=e(7);o(n,Error),t.exports={AlgoliaSearchError:n,UnparsableJSON:r("UnparsableJSON","Could not parse the incoming response as JSON, see err.more for details"),RequestTimeout:r("RequestTimeout","Request timedout before getting a response"),Network:r("Network","Network issue, see err.more for details"),JSONPScriptFail:r("JSONPScriptFail","<script> was loaded but did not call our provided callback"),JSONPScriptError:r("JSONPScriptError","<script> unable to load due to an `error` event on it"),Unknown:r("Unknown","Unknown error occured")}},{5:5,7:7}],29:[function(e,t){t.exports=function(e,t){t(e,0)}},{}],30:[function(e,t){var n=e(5);t.exports=function(e,t){var r=[];return n(e,function(n,o){r.push(t(n,o,e))}),r}},{5:5}],31:[function(e,t){var n=e(5);t.exports=function e(t){var r=Array.prototype.slice.call(arguments);return n(r,function(n){for(var r in n)n.hasOwnProperty(r)&&("object"==typeof t[r]&&"object"==typeof n[r]?t[r]=e({},t[r],n[r]):void 0!==n[r]&&(t[r]=n[r]))}),t}},{5:5}],32:[function(e,t){t.exports=function(t,n){var r=e(10),o=e(5),i={};return o(r(t),function(e){!0!==n(e)&&(i[e]=t[e])}),i}},{10:10,5:5}],33:[function(e,t){function n(t){return function(n,o,i){var a=e(25);i=i&&a(i)||{},i.hosts=i.hosts||["places-dsn.algolia.net","places-1.algolianet.com","places-2.algolianet.com","places-3.algolianet.com"],0!==arguments.length&&"object"!=typeof n&&void 0!==n||(n="",o="",i._allowEmptyCredentials=!0);var s=t(n,o,i),c=s.initIndex("places");return c.search=r("query","/1/places/query"),c}}t.exports=n;var r=e(24)},{24:24,25:25}],34:[function(e,t){(function(n){function r(e,t){return 1===arguments.length?a.get(e):a.set(e,t)}function o(){try{return"localStorage"in n&&null!==n.localStorage&&!n.localStorage[c]&&(n.localStorage.setItem(c,JSON.stringify({})),!0)}catch(e){return!1}}function i(){try{n.localStorage.removeItem(c)}catch(e){}}var a,s=e(1)("algoliasearch:src/hostIndexState.js"),c="algoliasearch-client-js",l={state:{},set:function(e,t){return this.state[e]=t,this.state[e]},get:function(e){return this.state[e]||null}},u={set:function(e,t){try{var r=JSON.parse(n.localStorage[c]);return r[e]=t,n.localStorage[c]=JSON.stringify(r),r[e]}catch(n){return s("localStorage set failed with",n),i(),a=l,a.set(e,t)}},get:function(e){return JSON.parse(n.localStorage[c])[e]||null}};a=o()?u:l,t.exports={get:r,set:r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1}],35:[function(e,t){"use strict";t.exports="3.20.3"},{}]},{},[19])(19)}),function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:t===undefined,value:t}}};return h.iterable&&(t[Symbol.iterator]=function(){return t}),t}function o(e){this.map={},e instanceof o?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader;return t.readAsArrayBuffer(e),a(t)}function c(e){var t=new FileReader;return t.readAsText(e),a(t)}function l(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(h.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(h.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(h.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(e){if(!h.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h.blob?(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return c(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=i(this);return e||Promise.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function u(e){var t=e.toUpperCase();return g.indexOf(t)>-1?t:e}function d(e,t){t=t||{};var n=t.body;if(d.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new o(e.headers)),this.method=e.method,this.mode=e.mode,n||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new o(t.headers)),this.method=u(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function f(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function p(e){var t=new o;return(e.getAllResponseHeaders()||"").trim().split("\n").forEach(function(e){var n=e.trim().split(":"),r=n.shift().trim(),o=n.join(":").trim();t.append(r,o)}),t}function m(e,t){t||(t={}),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof o?t.headers:new o(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var h={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};o.prototype.append=function(e,r){e=t(e),r=n(r);var o=this.map[e];o||(o=[],this.map[e]=o),o.push(r)},o.prototype["delete"]=function(e){delete this.map[t(e)]},o.prototype.get=function(e){var n=this.map[t(e)];return n?n[0]:null},o.prototype.getAll=function(e){return this.map[t(e)]||[]},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,r){this.map[t(e)]=[n(r)]},o.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){e.call(t,r,n,this)},this)},this)},o.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},o.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},o.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},h.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this)},l.call(d.prototype),l.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var y=[301,302,303,307,308];m.redirect=function(e,t){if(-1===y.indexOf(t))throw new RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},e.Headers=o,e.Request=d,e.Response=m,e.fetch=function(e,t){return new Promise(function(n,r){function o(){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}var i;i=d.prototype.isPrototypeOf(e)&&!t?e:new d(e,t);var a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:p(a),url:o()},t="response"in a?a.response:a.responseText;n(new m(t,e))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials&&(a.withCredentials=!0),"responseType"in a&&h.blob&&(a.responseType="blob"),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this);var instantClick,InstantClick=instantClick=function(e,t,n){function r(e){var t=e.indexOf("#");return t<0?e:e.substr(0,t)}function o(e){for(;e&&"A"!=e.nodeName;)e=e.parentNode;return e}function i(e){do{if(!e.hasAttribute)break;if(e.hasAttribute("data-instant"))return!1;if(e.hasAttribute("data-no-instant"))return!0}while(e=e.parentNode);return!1}function a(e){var n=t.protocol+"//"+t.host;return!(e.target||e.hasAttribute("download")||0!=e.href.indexOf(n+"/")||e.href.indexOf("#")>-1&&r(e.href)==k||i(e))}function s(e,t,n,r){for(var o=!1,i=0;i<F[e].length;i++)if("receive"==e){var a=F[e][i](t,n,r);a&&("body"in a&&(n=a.body),"title"in a&&(r=a.title),o=a)}else F[e][i](t,n,r);return o}function c(t,n,o,i,a){if(e.getElementById("navigation-butt")&&e.getElementById("navigation-butt").classList.remove("showing"),e.getElementsByTagName("BODY")[0].replaceChild(n,e.getElementById("page-content")),e.getElementById("navigation-progress").classList.remove("showing"),o){history.pushState(null,null,o.replace("?samepage=true","").replace("&samepage=true",""));var c=o.indexOf("#"),l=c>-1&&e.getElementById(o.substr(c+1)),u=0,d=o.indexOf("samepage=true")>-1;if(l)for(;l.offsetParent;)u+=l.offsetTop,l=l.offsetParent;d||scrollTo(0,u),k=r(o)}else scrollTo(0,i);C&&e.title==t?e.title=t+String.fromCharCode(160):e.title=t,b(),a?s("restore"):s("change",!1)}function l(){q=!1,D=!1}function u(e){return e.replace(/<noscript[\s\S]+?<\/noscript>/gi,"")}function d(e){if(!(B>+new Date-500)){var t=o(e.target);t&&a(t)&&w(t.href)}}function f(e){if(!(B>+new Date-500)){var t=o(e.target);t&&a(t)&&(t.addEventListener("mouseout",h),A?(S=t.href,L=setTimeout(w,A)):w(t.href),getImageForLink(t))}}function p(e){B=+new Date;var t=o(e.target);t&&a(t)&&(j?t.removeEventListener("mousedown",d):t.removeEventListener("mouseover",f),w(t.href),getImageForLink(t))}function m(e){try{var t=o(e.target);if(!t||!a(t))return;if(e.which>1||e.metaKey||e.ctrlKey)return;x(t.href),e.preventDefault()}catch(e){console.log(e)}}function h(){if(L)return clearTimeout(L),void(L=!1);q&&!D&&(O.abort(),l())}function g(){y(O,R)}function y(t,n){if(!(t.readyState<4)&&0!=t.status){if(M.ready=+new Date-M.start,t.getResponseHeader("Content-Type").match(/\/(x|ht|xht)ml/)){var o=e.implementation.createHTMLDocument("");o.documentElement.innerHTML=u(t.responseText);var i=o.title,a=o.getElementById("page-content"),c=s("receive",n,a,i);c&&("body"in c&&(a=c.body),"title"in c&&(i=c.title)),H[n]={body:a,title:i};for(var l,d,f=(r(n),o.head.children),p=0,m=0;m<f.length;m++)if(l=f[m],l.hasAttribute("data-instant-track")){d=l.getAttribute("href")||l.getAttribute("src")||l.innerHTML;for(var h=0;h<U.length;h++)U[h]==d&&p++}p!=U.length&&(P=!0)}else P=!0;D&&R===n&&(D=!1,x(R))}}function v(){var n=r(t.href);if(n!=k){if(!(n in N))return void(t.href=t.href);N[k]={body:e.getElementById("page-content"),title:e.title,scrollY:pageYOffset},k=n,c(N[n].title,N[n].body,!1,N[n].scrollY,!0)}}function b(t){if(e.body&&(e.body.addEventListener("touchstart",p,!0),j?e.body.addEventListener("mousedown",d,!0):e.body.addEventListener("mouseover",f,!0),e.body.addEventListener("click",m,!0)),!t)for(var n,r,o,i,a=e.body.getElementsByTagName("script"),s=0,c=a.length;s<c;s++)n=a[s],n.hasAttribute("data-no-instant")||(r=e.createElement("script"),n.src&&(r.src=n.src),n.innerHTML&&(r.innerHTML=n.innerHTML),o=n.parentNode,i=n.nextSibling,o.removeChild(n),o.insertBefore(r,i))}function w(e,t){if(!(!j&&"display"in M&&+new Date-(M.start+M.display)<100)&&(L&&(clearTimeout(L),L=!1),e||(e=S),!q||e!=R&&!D)){if(q=!0,D=!1,P=!1,M={start:+new Date},-1==e.indexOf("?"))var n=e+"?i=i";else var n=e+"&i=i";_(),s("fetch"),H[e]||("force"===t?E(e,function(){y(this,e)}):(R=e,O.open("GET",n),O.send()))}}function _(e){(Object.keys(H).length>16||"force"==e)&&(H={})}function E(e,t){var n=new XMLHttpRequest;if(-1==e.indexOf("?"))var r=e+"?i=i";else var r=e+"&i=i";n.open("GET",r,!0),n.onreadystatechange=function(){4==n.readyState&&"function"==typeof t&&t.apply(n)},n.send()}function x(n){if(R=n,H[n])var r=H[n].body,o=H[n].title;else{e.getElementById("navigation-progress").classList.add("showing")}return"display"in M||(M.display=+new Date-M.start),L||!q?L&&R&&R!=n?void(t.href=n):(w(n),s("wait"),void(D=!0)):D?void(t.href=n):P?void(t.href=R):r?(N[k]={body:e.getElementById("page-content"),title:e.title,scrollY:pageYOffset},l(),void c(o,r,R)):(s("wait"),void(D=!0))}function T(n){if(!k){if(!z)return void s("change",!0);"mousedown"==n?j=!0:"number"==typeof n&&(A=n),k=r(t.href),N[k]={body:e.getElementById("page-content"),title:e.title,scrollY:pageYOffset};for(var o,i,a=e.head.children,c=0;c<a.length;c++)o=a[c],o.hasAttribute("data-instant-track")&&(i=o.getAttribute("href")||o.getAttribute("src")||o.innerHTML,U.push(i));O=new XMLHttpRequest,O.addEventListener("readystatechange",g),b(!0),s("change",!0),addEventListener("popstate",v)}}function I(e,t){F[e].push(t)}var k,S,L,B,O,j,A,C=n.indexOf(" CriOS/")>-1,N={},R=!1,P=!1,H={},M={},q=!1,D=!1,U=[],F={fetch:[],receive:[],wait:[],change:[],restore:[]},z="pushState"in history&&(!n.match("Android")||n.match("Chrome/")||n.match("Firefox/"))&&"file:"!=t.protocol;return{supported:z,init:T,isPreloadable:a,preload:w,removeExpiredKeys:_,display:x,on:I}}(document,location,navigator.userAgent);if("undefined"!=typeof airbrakeJs)initializeAirbrake();else var waitingOnAirbrake=setInterval(function(){"undefined"!=typeof airbrakeJs&&(initializeAirbrake(),clearInterval(waitingOnAirbrake))},1);